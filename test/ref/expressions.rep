

Some one-off tests

 FtIn GT   LT   LE
 ---- ---- ---- ----
 Yes  Yes  Yes  Yes



FileInfo

 Error Empty  Norm   Dir
 ----- ----- ----- -----
     0     1     2     3



log, pow, exp for Fri 01-May

 Hr    ExpHr   LxHr LP10Hr
 -- -------- ------ ------
  1 .0000167   1.00   1.00
  2 .0000454   2.00   2.00
  3 .0001234   3.00   3.00
  4 .0003355   4.00   4.00
  5 .0009119   5.00   5.00
  6 0.002479   6.00   6.00
  7 0.006738   7.00   7.00
  8  0.01832   8.00   8.00
  9  0.04979   9.00   9.00
 10   0.1353  10.00  10.00
 11   0.3679  11.00  11.00
 12   1.0000  12.00  12.00
 13   2.7183  13.00  13.00
 14   7.3891  14.00  14.00
 15  20.0855  15.00  15.00
 16  54.5981  16.00  16.00
 17 148.4132  17.00  17.00
 18 403.4288  18.00  18.00
 19 1096.633  19.00  19.00
 20 2980.958  20.00  20.00
 21 8103.084  21.00  21.00
 22 22026.46  22.00  22.00
 23 59874.14  23.00  23.00
 24 162754.8  24.00  24.00



Trig functions for Wed 01-Jul

 Day Hr  HrAng   SinHA   CosHA   C+SHA   TanHA  S/C HA  asinHA  acosHA  atanHA atan2HA HrAngD  SinHAD  CosHAD  C+SHAD  TanHAD S/C HAD asinHAD acosHAD atanHAD atan2HAD
 --- -- ------ ------- ------- ------- ------- ------- ------- ------- ------- ------- ------ ------- ------- ------- ------- ------- ------- ------- ------- --------
 182  1 -2.880 -0.2588 -0.9659  1.0000  0.2679  0.2679 -0.2618  2.8798  0.2618 -2.8798 -165.0 -0.2588 -0.9659  1.0000  0.2679  0.2679 -15.000 165.000 15.0000 -165.000
 182  2 -2.618 -0.5000 -0.8660  1.0000  0.5774  0.5774 -0.5236  2.6180  0.5236 -2.6180 -150.0 -0.5000 -0.8660  1.0000  0.5774  0.5774 -30.000 150.000 30.0000 -150.000
 182  3 -2.356 -0.7071 -0.7071  1.0000  1.0000  1.0000 -0.7854  2.3562  0.7854 -2.3562 -135.0 -0.7071 -0.7071  1.0000  1.0000  1.0000 -45.000 135.000 45.0000 -135.000
 182  4 -2.094 -0.8660 -0.5000  1.0000  1.7321  1.7321 -1.0472  2.0944  1.0472 -2.0944 -120.0 -0.8660 -0.5000  1.0000  1.7321  1.7321 -60.000 120.000 60.0000 -120.000
 182  5 -1.833 -0.9659 -0.2588  1.0000  3.7320  3.7320 -1.3090  1.8326  1.3090 -1.8326 -105.0 -0.9659 -0.2588  1.0000  3.7321  3.7321 -75.000 105.000 75.0000 -105.000
 182  6 -1.571 -1.0000 -0.0000  1.0000  22877k  22877k -1.5708  1.5708  1.5708 -1.5708 -90.00 -1.0000 -0.0000  1.0000  22877k  22877k -90.000 90.0000 90.0000 -90.0000
 182  7 -1.309 -0.9659  0.2588  1.0000 -3.7321 -3.7321 -1.3090  1.3090 -1.3090 -1.3090 -75.00 -0.9659  0.2588  1.0000 -3.7321 -3.7321 -75.000 75.0000 -75.000 -75.0000
 182  8 -1.047 -0.8660  0.5000  1.0000 -1.7321 -1.7321 -1.0472  1.0472 -1.0472 -1.0472 -60.00 -0.8660  0.5000  1.0000 -1.7321 -1.7321 -60.000 60.0000 -60.000 -60.0000
 182  9 -.7854 -0.7071  0.7071  1.0000 -1.0000 -1.0000 -0.7854  0.7854 -0.7854 -0.7854 -45.00 -0.7071  0.7071  1.0000 -1.0000 -1.0000 -45.000 45.0000 -45.000 -45.0000
 182 10 -.5236 -0.5000  0.8660  1.0000 -0.5774 -0.5774 -0.5236  0.5236 -0.5236 -0.5236 -30.00 -0.5000  0.8660  1.0000 -0.5774 -0.5774 -30.000 30.0000 -30.000 -30.0000
 182 11 -.2618 -0.2588  0.9659  1.0000 -0.2679 -0.2679 -0.2618  0.2618 -0.2618 -0.2618 -15.00 -0.2588  0.9659  1.0000 -0.2679 -0.2679 -15.000 15.0000 -15.000 -15.0000
 182 12      0       0  1.0000  1.0000       0       0       0       0       0       0      0       0  1.0000  1.0000       0       0       0       0       0        0
 182 13 0.2618  0.2588  0.9659  1.0000  0.2679  0.2679  0.2618  0.2618  0.2618  0.2618 15.000  0.2588  0.9659  1.0000  0.2679  0.2679 15.0000 15.0000 15.0000  15.0000
 182 14 0.5236  0.5000  0.8660  1.0000  0.5774  0.5774  0.5236  0.5236  0.5236  0.5236 30.000  0.5000  0.8660  1.0000  0.5774  0.5774 30.0000 30.0000 30.0000  30.0000
 182 15 0.7854  0.7071  0.7071  1.0000  1.0000  1.0000  0.7854  0.7854  0.7854  0.7854 45.000  0.7071  0.7071  1.0000  1.0000  1.0000 45.0000 45.0000 45.0000  45.0000
 182 16 1.0472  0.8660  0.5000  1.0000  1.7321  1.7321  1.0472  1.0472  1.0472  1.0472 60.000  0.8660  0.5000  1.0000  1.7321  1.7321 60.0000 60.0000 60.0000  60.0000
 182 17 1.3090  0.9659  0.2588  1.0000  3.7321  3.7321  1.3090  1.3090  1.3090  1.3090 75.000  0.9659  0.2588  1.0000  3.7321  3.7321 75.0000 75.0000 75.0000  75.0000
 182 18 1.5708  1.0000 -0.0000  1.0000 -22877k -22877k  1.5708  1.5708 -1.5708  1.5708 90.000  1.0000 -0.0000  1.0000 -22877k -22877k 90.0000 90.0000 -90.000  90.0000
 182 19 1.8326  0.9659 -0.2588  1.0000 -3.7320 -3.7320  1.3090  1.8326 -1.3090  1.8326 105.00  0.9659 -0.2588  1.0000 -3.7321 -3.7321 75.0000 105.000 -75.000 105.0000
 182 20 2.0944  0.8660 -0.5000  1.0000 -1.7321 -1.7321  1.0472  2.0944 -1.0472  2.0944 120.00  0.8660 -0.5000  1.0000 -1.7321 -1.7321 60.0000 120.000 -60.000 120.0000
 182 21 2.3562  0.7071 -0.7071  1.0000 -1.0000 -1.0000  0.7854  2.3562 -0.7854  2.3562 135.00  0.7071 -0.7071  1.0000 -1.0000 -1.0000 45.0000 135.000 -45.000 135.0000
 182 22 2.6180  0.5000 -0.8660  1.0000 -0.5774 -0.5774  0.5236  2.6180 -0.5236  2.6180 150.00  0.5000 -0.8660  1.0000 -0.5774 -0.5774 30.0000 150.000 -30.000 150.0000
 182 23 2.8798  0.2588 -0.9659  1.0000 -0.2679 -0.2679  0.2618  2.8798 -0.2618  2.8798 165.00  0.2588 -0.9659  1.0000 -0.2679 -0.2679 15.0000 165.000 -15.000 165.0000
 182 24 3.1416 -0.0000 -1.0000  1.0000  0.0000  0.0000 -0.0000  3.1416  0.0000 -3.1416 180.00 -0.0000 -1.0000  1.0000  0.0000  0.0000 -.00001 180.000 .000005 -180.000



Probes for Fri 01-May

 Hr    GN1    GN2
 -- ------ ------
  1 121.00  60.50
  2 121.00  60.50
  3 121.00  40.33
  4 121.00  30.25
  5 121.00  24.20
  6 121.00  20.17
  7 121.00  17.29
  8 121.00  17.29
  9 121.00  17.29
 10 121.00  17.29
 11 121.00  17.29
 12 121.00  17.29
 13 121.00  17.29
 14 121.00  17.29
 15 121.00  17.29
 16 121.00  17.29
 17 121.00  17.29
 18 121.00  17.29
 19 121.00  17.29
 20 121.00  17.29
 21 121.00  17.29
 22 121.00  17.29
 23 121.00  17.29
 24 121.00  17.29



! Log for Run 001:

! CSE 0.919.0+expression-coverage.964b678e.5 for Win32 console



Input for Run 001:

        nSubSteps=20
        
#       #define PI 3.1415927
        
        wfName = "CA_SACRAMENTO-EXECUTIVE-AP_724830S_STYP20.epw"
        
        // some data to probe
        GAIN GN1 gnPower=$dayOfYear
        GAIN GN2 gnPower=$dayOfYear/brkt( 2, $hour, 7)
        
        
        DELETE REPORT EB
        
        REPORT rpType=UDT rpFreq=Year rpTitle="Some one-off tests"
        	REPORTCOL colHead = "FtIn" colVal = 1' 6 == 1.5 ? "Yes" : "No"  colWid=4
        	REPORTCOL colHead = "GT" colVal = 4.01+1 > abs( -5) ? "Yes" : "No"  colWid=4
        	REPORTCOL colHead = "LT" colVal = 4.01+.5 < min( 6, abs( -5)) ? "Yes" : "No"  colWid=4
        	REPORTCOL colHead = "LE" colVal = sqrt( 16) <= max( 4.1, -2) ? "Yes" : "No"  colWid=4
        
        ENDREPORT
        
        // TODO: no way to get the error return?
        REPORT rpType=UDT rpFreq=Year rpTitle="FileInfo"
        	REPORTCOL colHead = "Error" colVal=fileInfo("%") colWid=5
        	REPORTCOL colHead = "Empty" colVal = fileInfo("expressions.err") colWid=5
        	REPORTCOL colHead = "Norm" colVal = fileInfo(@Top.wfName) colWid=5
        	REPORTCOL colHead = "Dir" colVal = fileInfo(".") colWid=5
        ENDREPORT
        
        
        REPORT rpType=UDT rpFreq=Hour rpDayBeg=may 1 rpTitle="log, pow, exp"
        	REPORTCOL colHead = "Hr" colVal=$hour colWid=2
        	REPORTCOL colHead = "ExpHr" colVal=exp($hour-12)  colwid=8 colDec=4
        	REPORTCOL colHead = "LxHr" colVal=exp(loge($hour))  colwid=6 colDec=2
        	REPORTCOL colHead = "LP10Hr" colVal=pow(10., log10($hour))  colwid=6 colDec=2
        ENDREPORT
        
        
        // Trig fuctions.  No check for tan( PI/2) -- HA calc is a little inaccurate, so no overflow
#       #define HA (($hour-12)*PI/12)
#       #define HAD (($hour-12)*15)
        REPORT rpType=UDT rpFreq=Hour rpDayBeg=jul 1 rpTitle="Trig functions"
        	REPORTCOL colHead = "Day" colVal=$dayOfYear colWid=3
        	REPORTCOL colHead = "Hr" colVal=$hour colWid=2
        	REPORTCOL colHead = "HrAng" colVal = HA colWid=6 colDec=4			// hour angle: radians relative to solar noon (+ afternoon)
        
        	REPORTCOL colHead = "SinHA" colVal = sin( HA) colWid=7 colDec=4
        	REPORTCOL colHead = "CosHA" colVal = cos( HA) colWid=7 colDec=4
        	REPORTCOL colHead = "C+SHA" colVal = pow( sin( HA),2)+pow( cos( HA),2) colWid=7 colDec=4
        	REPORTCOL colHead = "TanHA" colVal = tan( HA) colWid=7 colDec=4
        	REPORTCOL colHead = "S/C HA" colVal = sin( HA) / cos( HA) colWid=7 colDec=4
        	REPORTCOL colHead = "asinHA" colVal = asin( sin( HA)) colWid=7 colDec=4
        	REPORTCOL colHead = "acosHA" colVal = acos( cos( HA)) colWid=7 colDec=4
        	REPORTCOL colHead = "atanHA" colVal = atan( tan( HA)) colWid=7 colDec=4
        	REPORTCOL colHead = "atan2HA" colVal = atan2( sin( HA),cos( HA)) colWid=7 colDec=4
        
        
        	REPORTCOL colHead = "HrAngD" colVal = HAD colWid=6 colDec=4			// hour angle: degrees relative to solar noon (+ afternoon)
        	REPORTCOL colHead = "SinHAD" colVal = sind( HAD) colWid=7 colDec=4
        	REPORTCOL colHead = "CosHAD" colVal = cosd( HAD) colWid=7 colDec=4
        	REPORTCOL colHead = "C+SHAD" colVal = pow( sind( HAD),2)+pow( cosd( HAD),2) colWid=7 colDec=4
        	REPORTCOL colHead = "TanHAD" colVal = tand( HAD) colWid=7 colDec=4
        	REPORTCOL colHead = "S/C HAD" colVal = sind( HAD) / cosd( HAD) colWid=7 colDec=4
        	REPORTCOL colHead = "asinHAD" colVal = asind( sind( HAD)) colWid=7 colDec=4
        	REPORTCOL colHead = "acosHAD" colVal = acosd( cosd( HAD)) colWid=7 colDec=4
        	REPORTCOL colHead = "atanHAD" colVal = atand( tan( HA)) colWid=7 colDec=4
        	REPORTCOL colHead = "atan2HAD" colVal = atan2d( sind( HAD),cosd( HAD)) colWid=8 colDec=4
        ENDREPORT
        
        REPORT rpType=UDT rpFreq=Hour rpDayBeg=may 1 rpTitle="Probes"
        	REPORTCOL colHead = "Hr" colVal=$hour colWid=2
        	REPORTCOL colHead = "GN1"  colVal=@GAIN[ "GN1"].gnPower colWid=6 colDec=2
        	REPORTCOL colHead = "GN2"  colVal=@GAIN[ 2].gnPower colWid=6 colDec=2
        ENDREPORT
        
        RUN
        
        $EOF



! CSE 0.919.0+expression-coverage.964b678e.5 for Win32 console run(s) done: Mon 27-Nov-23   2:16:28 pm

! Executable:   d:\cse\msvc\cse.exe
!               27-Nov-23   2:14 pm   (VS 14.29    2796032 bytes)  (HPWH 1.22.0+HEAD.d205413.4)
! Command line: -x!  -t1 expressions
! Input file:   D:\cse\test\expressions.cse
! Report file:  D:\CSE\TEST\EXPRESSIONS.REP

! Timing info --

!                Input:  Time = 0.05     Calls = 1         T/C = 0.0460
!           AutoSizing:  Time = 0.00     Calls = 0         T/C = 0.0000
!           Simulation:  Time = 0.28     Calls = 1         T/C = 0.2830
!              Reports:  Time = 0.00     Calls = 1         T/C = 0.0010
!                Total:  Time = 0.33     Calls = 1         T/C = 0.3320
