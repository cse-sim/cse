<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space:pre}</style>
  <link rel="stylesheet" href="css/base.css">
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">CSE User's Manual</h1>
<h1 class="subtitle">California Simulation Engine</h1>
<ul class="nav-bar">
  <li><a href="operation.html">&larr; Previous</a></li>
  <li><a href="../index.html">&uarr; Top &uarr;</a></li>
  <li><a href="index.html">&lt;&lt; Contents &gt;&gt;</a></li>
  <li><a href="input-data.html">Next &rarr;</a></li>
</ul>
</header>
<div id="main-content">
<h1 id="input-structure">3 Input Structure</h1><p><strong>DRAFT:</strong> In the following, any text annotated with ?? indicates areas of uncertainty or probable change. As the program and input language develop, these matters will be resolved.</p><h2 id="introduction-1">3.1 Introduction</h2><p>The CSE Input Language is the fundamental interface to the CSE program. The language has been designed with three objectives in mind:</p><ol type="1"><li><p>Providing direct access to all program features (including ones included for self-testing), to assist in program development.</p></li><li><p>Providing a set of parametric and expression evaluation capabilities useful for standards development and program testing.</p></li><li><p>Providing a means for other programs, such as an interactive user interface, to transmit input data and control data to the program.</p></li></ol><p>Thus, the language is not intended to be used by the average compliance or simulation user. Instead, it will be used during program development for testing purposes and subsequently for highly technical parametric studies, such as those conducted for research and standards development. In all of these situations, power, reproducibility, and thorough input documentation take precedence over user-friendliness.</p><p>CSE reads its input from a file. The file may be prepared by the user with a text editor, or generated by some other program.</p><h2 id="form-of-the-cse-data">3.2 Form of the CSE Data</h2><p>The data used by CSE consists of <em>objects</em>. Each object is of a <em>class</em>, which determines what the object represents. For example, objects of class <a href="zone.html#zone">ZONE</a> represent thermally distinct regions of the building; each thermally distinct region has its own <a href="zone.html#zone">ZONE</a> object. An object’s class determines what data items or <em>members</em> it contains. For instance, a <a href="zone.html#zone">ZONE</a> object contains the zone’s area and volume. In addition, each object can have a <em>name</em>.</p><p>The objects are organized in a hierarchy, or tree-like structure. For example, under each <a href="zone.html#zone">ZONE</a> object, there can be <a href="surface.html#surface">SURFACE</a> objects to represent the walls, floors, and ceilings of the <a href="zone.html#zone">ZONE.</a> Under <a href="surface.html#surface">SURFACEs</a> there can be <a href="window.html#window">WINDOW</a> objects to represent glazings in the particular wall or roof. <a href="surface.html#surface">SURFACE</a> is said to be a <em>subclass</em> of the class <a href="zone.html#zone">ZONE</a> and <a href="window.html#window">WINDOW</a> a subclass of <a href="surface.html#surface">SURFACE;</a> each individual <a href="surface.html#surface">SURFACE</a> is said to be a <em>subobject</em> of its particular <a href="zone.html#zone">ZONE</a> object. Conversely, each individual <a href="surface.html#surface">SURFACE</a> is said to be <em>owned by</em> its zone, and the <a href="surface.html#surface">SURFACE</a> class is said to be owned by the <a href="zone.html#zone">ZONE</a> class.</p><p>The hierarchy is rooted in the one <em>top-level object</em> (or just <em>Top</em>). The top level object contains information global to the entire simulation, such as the start and end dates, as well as all of the objects that describe the building to be simulated and the reports to be printed.</p><p>Objects and their required data must be specified by the user, except that Top is predefined. This is done with input language <em>statements</em>. Each statement begins an object (specifying its class and object name) or gives a value for a data member of the object being created. Each object is specified with a group of statements that are usually given together, and the objects must be organized according to the hierarchy. For example, <a href="surface.html#surface">SURFACEs</a> must be specified within <a href="zone.html#zone">ZONEs</a> and <a href="window.html#window">WINDOWs</a> within <a href="surface.html#surface">SURFACEs.</a> Each <a href="surface.html#surface">SURFACE</a> belongs to (is a subobject of) the <a href="zone.html#zone">ZONE</a> within which it is specified, and each <a href="window.html#window">WINDOW</a> is a subobject of its <a href="surface.html#surface">SURFACE.</a></p><p>The entire hierarchy of CSE classes can be represented as follows, using indentation to indicate subclasses:</p><p>TODO: review hierarchy</p><pre><code>TOP (Top-level class; object of this class supplied automatically by CSE)
    HOLIDAY
    MATERIAL
    CONSTRUCTION
        LAYER
    METER
    DHWMETER
    IZXFER
    DHWDAYUSE
        DHWUSE
    DHWSYS
        DHWHEATER
        DHWTANK
        DHWPUMP
        DHWLOOP
        DHWLOOPPUMP
        DHWLOOPSEG
            DHWLOOPBRANCH
    DHWSOLARSYS
        DHWSOLARCOLLECTOR
    ZONE
        GAIN
        SURFACE
            WINDOW
                SHADE
                SGDIST
            DOOR
    REPORTFILE
    REPORT
    REPORTCOL
    EXPORTFILE
    EXPORT
    EXPORTCOL</code></pre><h2 id="overview-of-cse-input-language">3.3 Overview of CSE Input Language</h2><p>The CSE Input Language consists of <em>commands</em>, each beginning with a particular word and, preferably, ending with a semicolon. Each command is either an <em>action-command</em>, which specifies some action such as starting a simulation run, or a <em>statement</em>, which creates or modifies an <em>object</em> or specifies a value for a <em>member</em> of an object.</p><h3 id="statements-overview">3.3.1 Statements – Overview</h3><p>A statement that creates an object consists basically of the <em>class name</em> followed by your name for the object to be created. (The name can be omitted for most classes; optional modifying clauses will be described later.) For example,</p><pre><code>    ZONE &quot;north&quot;;</code></pre><p>begins an object of class <a href="zone.html#zone">ZONE;</a> the particular zone will be named “north”. This zone name will appear in reports and error messages, and will be used in other statements that operate on the zone. As well as creating the <a href="zone.html#zone">ZONE,</a> this statement sets CSE to expect statements specifying <a href="zone.html#zone">ZONE</a> data members or <a href="zone.html#zone">ZONE</a> subobjects to follow.</p><p>A statement specifying a data member consists of the data member’s name, an = sign, an <em>expression</em> specifying the value, and a terminating semicolon. An expression is a valid combination of operands and operators as detailed later; commonly it is just a number, name, or text enclosed in quotes. For example,</p><pre><code>    znVol = 100000;</code></pre><p>specifies that the zone has a volume of 100000 cubic feet. (If the statement occurs outside of the description of a <a href="zone.html#zone">ZONE,</a> an error message occurs.) All of the member names for each class are described in the <a href="input-data.html#input-data">input data</a> section; most of them begin with an abbreviation of the class name for clarity.</p><p>The description of a zone or any object except Top can be terminated with the word “END”; but this is not essential; CSE will assume the <a href="zone.html#zone">ZONE</a> ends when you start another <a href="zone.html#zone">ZONE</a> or any object not a subobject of <a href="zone.html#zone">ZONE,</a> or when you specify a member of a higher level class (Top for <a href="zone.html#zone">ZONE),</a> or give an action-command such as RUN.</p><p>Statements are free-form; several can be put on a line, or a single statement can occupy several lines. Indentation according to class hierarchy will help make your input file readable. Spaces may be used freely except in the middle of a word or number. Tab characters may be used. Each statement should end with a semicolon. If the semicolon is omitted and the statement and the following statement are both correctly formed, CSE will figure out your intent anyway. But when there is an error, CSE gives clearer error messages when the statements are delimited with semicolons.</p><p>Capitalization generally does not matter in input language statements; we like to capitalize class names to make them stand out. Words that differ only in capitalization are NOT distinct to CSE.</p><p><em>Comments</em> (remarks) may be interspersed with commands. Comments are used to make the input file clearer to humans; they are ignored by CSE. A comment introduced with “//” ends at the end of the line; a comment introduced with “/*” continues past the next “*/”, whether on the same line, next line, or many lines down. Additional input language may follow the */ on the same line.</p><h3 id="nested-objects">3.3.2 Nested Objects</h3><p>The following is a brief CSE input file, annotated with comments intended to exemplify how the input language processor follows the object hierarchy when decoding input describing objects and their subobjects.</p><pre><code>    // short example file
                            // initially, the current object is Top.
    wfName = &quot;CZ12RV2.CEC&quot;; // give weather file name, a Top member
    begDay = Jan 1;         // start and ...
    endDay = Dec 31;        // ...end run dates: Top members.

    MATERIAL carpet;        // create object of class MATERIAL
    matThk = .296;          // specify &#39;matThk&#39; member of MATERIAL &#39;carpet&#39;
    matCond = 1./24;        // give value of &#39;matCond&#39; for &#39;carpet&#39;

    CONSTRUCTION slab140C;  /* create object of class CONSTRUCTION, named
                               slab140C. Terminates MATERIAL, because
                               CONSTRUCTION is not a subclass of material
                               in the hierarchy shown in another section** */
      LAYER                 /* start an unnamed object of class LAYER.
                               Since LAYER is a subclass of CONSTRUCTION,
                               this will be a subobject of slab140C. */
        lrMat = carpet;     /* member of the LAYER. Note use of name of
                               MATERIAL object. */
      // (additional layers would be here)

    METER Elec;             /* create METER named Elec;
                               since METER is a subobject of Top,
                               this ends slab140C and its LAYER. */

    ZONE North;             // start a ZONE named North.  Ends METER.
      znArea = 1000;        // specify data members of ZONE North.
      znVol = 10;           // (you don&#39;t have to capitalize these as shown.)
      GAIN NorthLights      /* create GAIN object named NorthLights.
                               Creates a subobject of ZONE North. */
        gnPower = 0.01;     // member of NorthLights -- numeric value
        gnMeter = Elec;     // member of NorthLights -- object name value

      znCAir = 3.5;         /* processor knows that znCAir is a member of ZONE;
                               thus this statement terminates the GAIN
                               subobject &amp; continues ZONE &#39;North&#39;. */

      /*lrMat = ...            would be an error here, because the current
                               object is not a LAYER nor a subobject of LAYER */

    RUN;                    /* initiate simulation run with data given.
                               Terminates ZONE North, since action-commands
                               terminate all objects being constructed. */</code></pre><p>** See <a href="#form-of-the-cse-data">Form of the CSE Data</a></p><h3 id="expressions-overview">3.3.3 Expressions – Overview</h3><p><em>Expressions</em> are the parts of statements that specify values – numeric values, string values, object name values, and choice values. Expressions are composed of operators and operands, in a manner similar to many programming languages. The available operators and operands will be described in the section on <a href="#operators">operators</a>.</p><p>Unlike most programming languages, CSE expressions have Variation. <em>Variation</em> is how often a value changes during the simulation run – hourly, daily, monthly, yearly (i.e. does not change during run), etc. For instance, the operand <code>$hour</code> represents the hour of the day and has “hourly” variation. An expression has the variation of its fastest-varying component.</p><p>Each data member of each object (and every context in which an expression may be used) has its allowed <em>variability</em>, which is the fastest variation it will accept. Many members allow no variability. For example, <code>begDay</code>, the date on which the run starts, cannot meaningfully change during the run. On the other hand, a thermostat setting can change hourly. Thermostat settings and other scheduled values are specified in CSE with expressions that often make use of variability; there is no explicit SCHEDULE class.</p><p>For example, a heating setpoint that was 68 during business hours and 55 at night might be expressed as</p><pre><code>    select( $hour &gt; 8 &amp;&amp; $hour &lt; 18, 68, default 55)</code></pre><p>An example of a complete statement containing the above expression is:</p><pre><code>    tuTH = select( $hour &gt; 8 &amp;&amp; $hour &lt; 18, 68, default 55);</code></pre><p>The preceding is valid a statement if used in a <a href="terminal.html#terminal">TERMINAL</a> description. The following:</p><pre><code>    begDay = select( $hour &gt; 8 &amp;&amp; $hour &lt; 18, 68, default 55);</code></pre><p>would always get an error message, because <code>begDay</code> (the starting day of the run) will not accept hourly variation, and the expression varies hourly, since it contains <code>$hour</code>. The expression’s variation is considered “hourly” even though it changes only twice a day, since CSE has no variation category between hourly and daily.</p><p>CSE’s expression capability may be used freely to make input clearer. For example,</p><pre><code>    znVol = 15 * 25 * 8;</code></pre><p>meaning that the zone volume is 15 times 25 times 8 is the same to CSE as</p><pre><code>    znVol = 3000;</code></pre><p>but might be useful to you to tersely indicate that the volume resulted from a width of 15, a length of 25, and a height of 8. Further, if you wished to change the ceiling height to 9 feet, the edit would be very simple and CSE would perform the volume calculation for you.</p><p>CSE computes expressions only as often as necessary, for maximum simulation speed. For example,</p><pre><code>    tuTH = 68;</code></pre><p>causes 68 to be stored in the heating setpoint once at the start of the run only, even though tuTH will accept expressions with variability up to hourly. Furthermore, constant inner portions of variable expressions are pre-evaluated before the run begins.</p><p>CSE statements and expressions do not (yet) have user-settable variables in the usual programming language sense. They do, however, have user-defined functions to facilitate using the same computation several places, and preprocessor macros, to facilitate using the same text several places, specifying parametric values in a separate file, etc.</p><h3 id="the-preprocessor-overview">3.3.4 The Preprocessor – Overview</h3><p>The preprocessor scans and processes input file text before the language processor sees the text. The preprocessor can include (embed) additional files in the input, include sections of input conditionally, and define and expand macros.</p><p>Macros are a mechanism to substitute a specified text for each occurrence of a word (the macro name). For example,</p><pre><code>    #define ZNWID 20
    #define ZNLEN 30
    . . .

    znArea = ZNWID * ZNLEN;
    znVol  = ZNWID * ZNLEN * 8;</code></pre><p>The first line above says that all following occurrences of “ZNWID” are to be replaced with “20” (or whatever follows ZNWID on the same line). The effect of the above is that the zone width and length are specified only one place; if the single numbers are editing, both the zone area and zone volume change to match.</p><p>Macros can be especially powerful when combined with the file inclusion feature; the generic building description could be in one file, and the specific values for multiple runs supplied by another file. By also using conditional compilation, the values-specifying file can select from a range of features available in the building description file.</p><p>The preprocessor is similar to that of the C programming language, and thus will be familiar to C programmers.</p><p>The next section describes the preprocessor in detail. The preprocessor description is followed by sections detailing statements, then expressions.</p><h2 id="the-preprocessor">3.4 The Preprocessor</h2><p><em>Note: The organization and wording of this section is based on section A12 of Kernigan and Richie [1988]. The reader is referred to that source for a somewhat more rigorous presentation but with the caution that the CSE input language preprocessor does not <strong>completely</strong> comply to ANSI C specifications.</em></p><p>The preprocessor performs macro definition and expansion, file inclusion, and conditional inclusion/exclusion of text. Lines whose first non-whitespace character is <code>#</code> communicate with the preprocessor and are designated <em>preprocessor directives</em>. Line boundaries are significant to the preprocessor (in contrast to the rest of the input language in which a newline is simply whitespace), although adjacent lines can be spliced with \, as discussed below. The syntax of preprocessor directives is separate from that of the rest of the language. Preprocessor directives can appear anywhere in an input file and their effects last until the end of the input file. The directives that are supported by the input language preprocessor are the following:</p><pre><code>    #if
    #else
    #elif
    #endif
    #ifndef

    #define
    #redefine
    #undef

    #include</code></pre><h3 id="line-splicing">3.4.1 Line splicing</h3><p>If the last character on a line is the backslash \, then the next line is spliced to that line by elimination of the backslash and the following newline. Line splicing occurs <em>before</em> the line is divided into tokens.</p><p>Line splicing finds its main use in defining long macros:</p><pre><code>    // hourly light gain values:
    #define LIGHT_GAIN       .024, .022, .021, .021, .021, .026, \
                             .038, .059, .056, .060, .059, .046, \
                             .045, .5  , .5  , .05 , .057, .064, \
                             .064, .052, .050, .055, .044, .027</code></pre><h3 id="macro-definition-and-expansion">3.4.2 Macro definition and expansion</h3><p>A directive of the form</p><pre><code>    #define _identifier_ _token-sequence_</code></pre><p>is a macro definition and causes the preprocessor to replace subsequent instances of the identifier with the given token sequence. Note that the token string can be empty (e.g. <code>#define FLAG</code>).</p><p>A line of the form</p><pre><code>    #define _identifier_( _identifier-list_) _token-sequence_</code></pre><p>where there is no space between the identifier and the (, is a macro with parameters given by the identifier list. The expansion of macros with parameters is discussed below.</p><p>Macros may also be defined <em>on the CSE command line</em>, making it possible to vary a run without changing the input files at all. As described in the <a href="operation.html#command-line">command line</a> section, macros are defined on the CSE command line using the <code>-D</code> switch in the forms</p><pre><code>    -D_identifier_

    -D_identifier_=_token-sequence_</code></pre><p>The first form simply defines the name with no token-sequence; this is convenient for testing with <code>#ifdef</code>, <code>#ifndef</code>, or <code>defined()</code>, as described in the section on <a href="#conditional-inclusion-of-text">conditional inclusion of tex</a>. The second form allows an argument list and token sequence. The entire command line argument must be enclosed in quotes if it contains any spaces.</p><p>A macro definition is forgotten when an <code>#undef</code> directive is encountered:</p><pre><code>    #undef _identifier_</code></pre><p>It is not an error to <code>#undef</code> an undefined identifier.</p><p>A macro may be re-<code>#defined</code> without a prior <code>#undef</code> unless the second definition is identical to the first. A combined <code>#undef</code>/<code>#define</code> directive is available to handle this common case:</p><pre><code>    #redefine _identifier_ _token-sequence_

    #redefine _identifier_( _identifier-list_) _token-sequence_</code></pre><p>When a macro is <code>#redefined</code>, it need not agree in form with the prior definition (that is, one can have parameters even if the other does not). It is not an error to <code>#redefine</code> an undefined identifier.</p><p>Macros defined in the second form (with parameters) are expanded whenever the preprocessor encounters the macro identifier followed by optional whitespace and a comma-separated parameter list enclosed in parentheses. First the comma separated token sequences are collected; any commas within quotes or nested parentheses do not separate parameters. Then each unquoted instance of the each parameter identifier in the macro definition is replaced by the collected tokens. The resulting string is then repeatedly re-scanned for more defined identifiers. The macro definition and reference must have the same number of arguments.</p><p>It is often important to include parentheses within macro definitions to make sure they evaluate properly in all situations. Suppose we define a handy area macro as follows:</p><pre><code>    #define AREA(w, h) w*h        // WRONG</code></pre><p>Consider what happens when this macro is expanded with arguments 2+3 and 4+1. The preprocessor substitutes the arguments for the parameters, then the input language processor processes the statement containing the macro expansion without regard to the beginning and end of the arguments. The expected result is 25, but as defined, the macro will produce a result of 15. Parentheses fix it:</p><pre><code>    #define AREA(w, h) ((w)*(h))  // RIGHT</code></pre><p>The outer enclosing set of parentheses are not strictly needed in our example, but are good practice to avoid evaluation errors when the macro expands within a larger expression.</p><p>Note 1: The CSE preprocessor does not support the ANSI C stringizing (#) or concatenation (##) operators.</p><p>Note 2: Identifiers are case <em>insensitive</em> (unlike ANSI C). For example, the text “myHeight” will be replaced by the <code>#defined</code> value of MYHEIGHT (if there is one).</p><p><em>The preprocessor examples at the end of this section illustrate macro definition and expansion.</em></p><h3 id="file-inclusion">3.4.3 File inclusion</h3><p>Directives of the form</p><p><code>#include &quot;filename&quot;</code> and</p><p><code>#include &lt;filename&gt;</code></p><p>cause the replacement of the directive line with the entire contents of the referenced file. If the filename does not include an extension, a default extension of .INP is assumed. The filename may include path information; if it does not, the file must be in the current directory.</p><p><code>#include</code>s may be nested to a depth of 5.</p><p>For an example of the use <code>#include</code>s, please see the preprocessor examples at the end of this section.</p><h3 id="conditional-inclusion-of-text">3.4.4 Conditional inclusion of text</h3><p>Conditional text inclusion provides a facility for selectively including or excluding groups of input file lines. The lines so included or excluded may be either CSE input language text <em>or other preprocessor directives</em>. The latter capability is very powerful.</p><p>Several conditional inclusion directive involve integer constant expressions. Constant integer expressions are formed according the rules discussed in the section on <a href="#expressions">expressions</a> with the following changes:</p><ol type="1"><li><p>Only constant integer operands are allowed.</p></li><li><p>All values (including intermediate values computed during expression evaluation) must remain in the 16 bit range (-32768 - 32767). The expression processor treats all integers as signed values and requires signed decimal constants – however, it requires unsigned octal and hexadecimal constants. Thus decimal constants must be in the range -32768 - 32767, octal must be in the range 0 - 0o177777, and hexadecimal in the range 0 - 0xffff. Since all arithmetic comparisons are done assuming signed values, 0xffff &lt; 1 is true (unhappily). Care is required when using the arithmetic comparison operators (&lt;, &lt;=, &gt;=, &gt;).</p></li><li><p>The logical relational operators &amp;&amp; and || are not available. Nearly equivalent function can be obtained with &amp; and |.</p></li><li><p>A special operand defined( ) is provided; it is described below.</p></li></ol><p>Macro expansion <em>is</em> performed on constant expression text, so symbolic expressions can be used (see examples below).</p><p>The basic conditional format uses the directive</p><pre><code>    #if _constant-expression_</code></pre><p>If the constant expression has the value 0, all lines following the <code>#if</code> are dropped from the input stream (the preprocessor discards them) until a matching <code>#else</code>, <code>#elif</code>, or <code>#endif</code> directive is encountered.</p><p>The defined( <em>identifier</em> ) operand returns 1 if the identifier is the name of a defined macro, otherwise 0. Thus</p><pre><code>    #if defined( _identifier_ )</code></pre><p>can be used to control text inclusion based on macro flags. Two <code>#if</code> variants that test whether a macro is defined are also available. <code>#ifdef</code> <em>identifier</em> is equivalent to <code>#if</code> defined(<em>identifier</em>) and <code>#ifndef</code> <em>identifier</em> is equivalent to <code>#if</code> !defined(<em>identifier</em>).</p><p>Defined(), <code>#ifdef</code>, and <code>#ifndef</code> consider a macro name “defined” even if the body of its definition contains no characters; thus a macro to be tested with one of these can be defined with just</p><pre><code>    #define _identifier_</code></pre><p>or with just “-D<em>identifier</em>” on the CSE command line.</p><p>Conditional blocks are most simply terminated with <code>#endif</code>, but <code>#else</code> and <code>#elif</code> <em>constant-expression</em> are also available for selecting one of two or more alternative text blocks.</p><p>The simplest use of <code>#if</code> is to “turn off” sections of an input file without editing them out:</p><pre><code>    #if 0
    This text is deleted from the input stream.
    #endif</code></pre><p>Or, portions of the input file can be conditionally selected:</p><pre><code>    #define FLRAREA 1000   // other values used in other runs
    #if FLRAREA &lt;= 800
        CSE input language for small zones
    #elif FLRAREA &lt;= 1500
        CSE input language for medium zones
    #else
        CSE input language for large zones
    #endif</code></pre><p>Note that if a set of <code>#if</code> … <code>#elif</code> … <code>#elif</code> conditionals does not contain an <code>#else</code>, it is possible for all lines to be excluded.</p><p>Finally, it is once again important to note that conditional directives <em>nest</em>, as shown in the following example (indentation is included for clarity only):</p><pre><code>    #if 0
        This text is NOT included.
        #if 1
            This text is NOT included.
        #endif
    #else
        This text IS included.
    #endif</code></pre><h3 id="input-echo-control">3.4.5 Input echo control</h3><p>By default, CSE echos all input text to the input echo report (see <a href="report.html#report">REPORT</a> rpType=INP). #echooff and #echoon allow disabling and re-enabling text echoing. This capability is useful reducing report file size by suppressing echo of, for example, large standard include files.</p><pre><code>    ... some input ...   // text sent to the input echo report
    #echooff
       // This text will NOT be sent to the input echo report.
       // However, it IS read and used by CSE.
       // Error messages will be echoed even if #echooff
       ... more input ...
    #echoon         // restore echo</code></pre><p>Nesting is supported – each #echoon “undoes” the prior #echooff, but echoing does not resume until the topmost (earliest) #echooff is cancelled. * #echoon has no effect when echoing is already active. * Unmatched #echooffs are ignored – echoing remains disabled through the end of the input stream.</p><h3 id="preprocessor-examples">3.4.6 Preprocessor examples</h3><p>This section shows a few combined examples that demonstrate the preprocessor’s capabilities.</p><p>The simplest use of macros is for run parameterization. For example, a base file is constructed that derives values from a macro named FLRAREA. Then multiple runs can be performed using <code>#include</code>:</p><pre><code>    // Base file
    ... various input language statements ...

    ZONE main
        znArea = FLRAREA
        znVol  = 8*FLRAREA
        znCAir = 2*FLRAREA ...
        ... various other input language statements ...

    RUN

    CLEAR</code></pre><p>The actual input file would look like this:</p><pre><code>    // Run with zone area = 500, 1000, and 2000 ft2
    #define FLRAREA 500
    #include &quot;base.&quot;
    #redefine FLRAREA 1000
    #include &quot;base.&quot;
    #redefine FLRAREA 2000
    #include &quot;base.&quot;</code></pre><p>Macros are also useful for encapsulating standard calculations. For example, most U-values must be entered <em>without</em> surface conductances, yet many tabulated U-values include the effects of the standard ASHRAE winter surface conductance of 6.00 Btuh/ft<sup>2</sup>-<sup>o</sup>F. A simple macro is very helpful:</p><pre><code>    #define UWinter(u)  ( 1/(1/(u)-1/6.00) )</code></pre><p>This macro can be used whenever a U-value is required (e.g. <a href="surface.html#surface">SURFACE</a> … sfU=UWinter(.11) … ).</p><h2 id="cse-input-language-statements">3.5 CSE Input Language Statements</h2><p>This section describes the general form of CSE input language statements that define objects, assign values to the data members of objects, and initiate actions. The concepts of objects and the class hierarchy were introduced in the section on <a href="#form-of-the-cse-data">form of CSE data</a>. Information on statements for specific CSE input language classes and their members is the subject of the <a href="input-data.html#input-data">input data</a> section.</p><h3 id="object-statements">3.5.1 Object Statements</h3><p>As we described in a <a href="#statements-overview">previous section</a>, the description of an object is introduced by a statement containing at least the class name, and usually your chosen name for the particular object. In addition, this section will describe several optional qualifiers and modifying clauses that permit defining similar objects without repeating all of the member details, and reopening a previously given object description to change or add to it.</p><p>Examples of the basic object-beginning statement:</p><pre><code>    ZONE &quot;North&quot;;

    METER &quot;Electric - Cooling&quot;;

    LAYER;</code></pre><p>As described in <a href="#nested-objects">the section on nested objects</a>, such a statement is followed by statements giving the object’s member values or describing subobjects of the object. The object description ends when you begin another object that is not of a subclass of the object, or when a member of an embedding (higher level) object previously begun is given, or when END is given.</p><h4 id="object-names">3.5.1.1 Object Names</h4><p>An object name consists of up to 63 characters. If you always enclose the name in quotation marks, punctuation and spaces may be used freely; if the name starts with a letter or dollar sign and consists only of letters, digits, underscore, and dollar sign, and is different from all of the words already defined in CSE input language (as listed below in this section), you may omit the quotes. Capitalization, and Leading and trailing spaces and tabs, are always disregarded by input language processor. Names of 0 length, and names containing control characters (ASCII codes 0-31) are not allowed.</p><p>Examples of valid names that do not require quotes:</p><pre><code>    North
    gas_meter
    slab140E</code></pre><p>The following object names are acceptable if always enclosed in quotes:</p><pre><code>    &quot;Front Door&quot;
    &quot;M L King Day&quot;
    &quot;123&quot;
    &quot;3.5-inch wall&quot;</code></pre><p>We suggest always quoting object names so you won’t have to worry about disallowed words and characters.</p><p>Duplicate names result in error messages. Object names must be distinct between objects of the same class which are subobjects of the same object. For example, all <a href="zone.html#zone">ZONE</a> names must be distinct, since all <a href="zone.html#zone">ZONEs</a> are subobjects of Top. It is permissible to have <a href="surface.html#surface">SURFACEs</a> with the same name in different <a href="zone.html#zone">ZONEs</a> – but it is a good idea to keep all of your object names distinct to minimize the chance of an accidental mismatch or a confusing message regarding some other error.</p><p>For some classes, such as <a href="zone.html#zone">ZONE,</a> a name is required for each object. This is because several other statements refer to specific <a href="zone.html#zone">ZONEs,</a> and because a name is needed to identify <a href="zone.html#zone">ZONEs</a> in reports. For other classes, the name is optional. The specific statement descriptions in the <a href="input-data.html#input-data">Input Data</a> Section 5 say which names are required. We suggest always using object names even where not required; one reason is because they allow CSE to issue clearer error messages.</p><p>The following <em>reserved words will not work as object names unless enclosed in quotes</em>:</p><p><em>(this list needs to be assembled and typed in)</em></p><h4 id="alter">3.5.1.2 ALTER</h4><p>ALTER is used to reopen a previously defined object when it is not possible or desired to give the entire description contiguously.</p><p>ALTER could be used if you wish to order the input in a special way. For example, <a href="surface.html#surface">SURFACE</a> objects are subobjects of <a href="zone.html#zone">ZONE</a> and are normally described with the <a href="zone.html#zone">ZONE</a> they are part of. However, if you wanted to put all roofs together, you could use input of the general form:</p><pre><code>    ZONE &quot;1&quot;;  . . .  (zone 1 description)
    ZONE &quot;2&quot;;  . . .
    . . .
    ALTER ZONE &quot;1&quot;;               // revert to specifying zone 1
        SURFACE &quot;Roof1&quot;;  . . .   (describe roof of zone 1)
    ALTER ZONE &quot;2&quot;;
        SURFACE &quot;Roof2&quot;;  . . .</code></pre><p>ALTER can be used to facilitate making similar runs. For example, to evaluate the effect of a change in the size of a window, you might use:</p><pre><code>    ZONE &quot;South&quot;;
        SURFACE &quot;SouthWall&quot;;
        ...
            WINDOW &quot;BigWindow&quot;;
                wnHeight = 6;  wnWidth = 20;
    . . .
    RUN;          // perform simulation and generate reports
    // data from simulation is still present unless CLEAR given
    ALTER ZONE &quot;South&quot;;
        ALTER SURFACE &quot;SouthWall&quot;;
            ALTER WINDOW &quot;BigWindow&quot;;
                wnHeight = 4;  wnWidth = 12;  // make window smaller
    RUN;          // perform simulation and print reports again</code></pre><p>ALTER also lets you access the predefined “Primary” <a href="reportfile.html#reportfile">REPORTFILE</a> and <a href="exportfile.html#exportfile">EXPORTFILE</a> objects which will be described in the <a href="input-data.html#input-data">Input Data</a> Section:</p><pre><code>    ALTER REPORTFILE &quot;Primary&quot;;    /* open description of object automatically
                                      supplied by CSE -- no other way to access */
        rfPageFmt = NO;            /* Turn off page headers and footers --
                                      not desired when reports are to be
                                      reviewed on screen. */</code></pre><h4 id="delete">3.5.1.3 DELETE</h4><p>DELETE followed by a class name and an object name removes the specified object, and any subobjects it has. You might do this after RUN when changing the data for a similar run (but to remove all data, CLEAR is handier), or you might use DELETE after COPYing (below) an object if the intent is to copy all but certain subobjects.</p><h4 id="like-clause">3.5.1.4 LIKE clause</h4><p>LIKE lets you specify that an object being defined starts with the same member values as another object already defined. You then need give only those members that are different. For Example:</p><pre><code>    MATERIAL &quot;SheetRock&quot;;         // half inch gypsum board
        matCond = .0925;          // conductivity per foot
        matSpHt = .26;            // specific heat
        matDens = 50;             // density
        matThk = 0&#39;0.5;           // thickness 1/2 inch
    MATERIAL &quot;5/8 SheetRock&quot; LIKE &quot;SheetRock&quot;; // 5/8&quot; gypsum board
        matThk = 0&#39;0.625;         // thickness 5/8 inch
        // other members same as &quot;SheetRock&quot;, need not be repeated</code></pre><p>The object named after LIKE must be already defined and must be of the same class as the new object.</p><p>LIKE copies only the member values; it does not copy any subobjects of the prototype object. For example, LIKEing a <a href="zone.html#zone">ZONE</a> to a previously defined <a href="zone.html#zone">ZONE</a> does not cause the new zone to contain the surfaces of the prototype <a href="zone.html#zone">ZONE.</a> If you want to duplicate the surfaces, use COPY instead of LIKE.</p><h4 id="copy-clause">3.5.1.5 COPY clause</h4><p>COPY lets you specify that the object being defined is the same as a previously defined object including all of the subobjects of that object. For example,</p><pre><code>    . . .
    ZONE &quot;West&quot; COPY &quot;North&quot;;
        DELETE WALL &quot;East&quot;;
        ALTER WALL &quot;South&quot;;
            sfExCnd = ambient;</code></pre><p>Specifies a <a href="zone.html#zone">ZONE</a> named “West” which is the same as <a href="zone.html#zone">ZONE</a> North except that it does not contain a copy of West’s East wall, and the South wall has ambient exposure.</p><h4 id="usetype-clause">3.5.1.6 USETYPE clause</h4><p>USETYPE followed by the type name is used in creating an object of a type previously defined with DEFTYPE (next section). Example:</p><pre><code>    SURFACE &quot;EastWall&quot; USETYPE &quot;IntWall&quot;;     // use interior wall TYPE (below)
        sfAzm = 90;                           // this wall faces to the East
        sfArea = 8 * 30;                      // area of each wall is different
        sfAdjZn = &quot;East&quot;;                     // zone on other side of wall</code></pre><p>Any differences from the type, and any required information not given in the type, must then be specified. Any member specified in the type may be respecified in the object unless FROZEN (see <a href="#freeze">this section</a>) in the type (normally, a duplicate specification for a member results in an error message).</p><h4 id="deftype">3.5.1.7 DEFTYPE</h4><p>DEFTYPE is used to begin defining a TYPE for a class. When a TYPE is created, no object is created; rather, a partial or complete object description is stored for later use with DEFTYPE. TYPES facilitate creating multiple similar objects, as well as storing commonly used descriptions in a file to be #included in several different files, or to be altered for multiple runs in comparative studies without changing the including files. Example (boldface for emphasis only):</p><pre><code>    DEFTYPE SURFACE &quot;BaseWall&quot;                // common characteristics of all walls
        sfType = WALL;                        // walls are walls, so say it once
        sfTilt = 90;                          // all our walls are vertical;
                                              //  but sfAzm varies, so it is not in TYPE.
        sfU = .83;                            // surf conductance; override if different
        sfModel = QUICK;

    DEFTYPE SURFACE &quot;ExtWall&quot; USETYPE &quot;BaseWall&quot;;
        sfExCnd = AMBIENT;                    // other side of wall is outdoors
        sfExAbs = 0.5;                        // member only needed for exterior walls

    DEFTYPE SURFACE &quot;IntWall&quot; USETYPE &quot;BaseWall&quot;;   // interior wall
        sfExCnd = ADJZN;                      // user must give sfAdjZn.</code></pre><p>In a TYPE as much or as little of the description as desired may be given. Omitting normally-required members does not result in an error message in the type definition, though of course an error will occur at use if the member is not given there.</p><p>At use, member values specified in the TYPE can normally be re specified freely; to prevent this, “freeze” the desired member(s) in the type definition with</p><pre><code>    FREEZE *memberName*;</code></pre><p>Alternately, if you wish to be sure the user of the TYPE enters a particular member even if it is normally optional, use</p><pre><code>    REQUIRE *memberName*</code></pre><p>Sometimes in the TYPE definition, member(s) that you do not want defined are defined – for example, if the TYPE definition were itself initiated with a statement containing LIKE, COPY, or USETYPE. In such cases the member specification can be removed with</p><pre><code>    UNSET *memberName*;</code></pre><h4 id="end-and-endxxxx">3.5.1.8 END and ENDxxxx</h4><p>END, optionally followed by an object name, can be used to unequivocally terminate an object. Further, as of July 1992 there is still available a specific word to terminate each type of object, such as ENDZONE to terminate a <a href="zone.html#zone">ZONE</a> object. If the object name is given after END or ENDxxxx, an additional check is performed: if the name is not that of an object which has been begun and not terminated, an error message occurs. Generally, we have found it is not important to use END or ENDxxxx, especially since the member names in different classes are distinct.</p><h3 id="member-statements">3.5.2 Member Statements</h3><p>As introduced in the section on <a href="#statements-overview">statements</a>, statements which assign values to members are of the general form:</p><pre><code>    *memberName* = *expression*;</code></pre><p>The specific member names for each class of objects are given in Section 5; many have already been shown in examples.</p><p>Depending on the member, the appropriate type for the expression giving the member value may be numeric (integer or floating point), string, object name, or multiple-choice. Expressions of all types will be described in detail in the section on <a href="#expressions">expressions</a>.</p><p>Each member also has its <em>variability</em> (also given in the <a href="input-data.html#input-data">input data</a> section), or maximum acceptable <em>variation</em>. This is how often the expression for the value can change during the simulation – hourly, daily, monthly, no change (constant), etc. The “variations” were introduced in the <a href="#expressions-overview">expressions overview</a> section and will be further detailed in a <a href="#variation-frequencies-revisited">section on variation frequencies</a>.</p><p>Four special statements, AUTOSIZE, UNSET, REQUIRE, and FREEZE, add flexibility in working with members.</p><h4 id="autosize">3.5.2.1 AUTOSIZE</h4><p>AUTOSIZE followed by a member name, sets the member to be sized by CSE. The option to AUTOSIZE a member will be shown under its legal range where it is described in the <a href="input-data.html#input-data">input data</a> section. AUTOSIZE is only applicable to members describing HVAC system airflows and heating/cooling capacities. If AUTOSIZE is used for any member in the input, input describing design day conditions must also be specified (see <a href="top-members.html#top-autosizing">TOP Autosizing</a>).</p><h4 id="unset">3.5.2.2 UNSET</h4><p>UNSET followed by a member name is used when it is desired to delete a member value previously given. UNSETing a member resets the object to the same internal state it was in before the member was originally given. This makes it legal to specify a new value for the member (normally, a duplicate specification results in an error message); if the member is required (as specified in the <a href="input-data.html#input-data">input data</a> section), then an error message will occur if RUN is given without re specifying the member.</p><p>Situations where you really might want to specify a member, then later remove it, include:</p><ul><li><p>After a RUN command has completed one simulation run, if you wish to specify another simulation run without CLEARing and giving all the data again, you may need to UNSET some members of some objects in order to re specify them or because they need to be omitted from the new run. In this case, use ALTER(s) to reopen the object(s) before UNSETing.</p></li><li><p>In defining a TYPE (see <a href="#deftype">this section</a>), you may wish to make sure certain members are not specified so that the user must give them or omit them if desired. If the origin of the type (possibly a sequence of DEFTYPEs, LIKEs, and/or COPYs) has defined unwanted members, get rid of them with UNSET.</p></li></ul><p>Note that UNSET is only for deleting <em>members</em> (names that would be followed with an = and a a value when being defined). To delete an entire <em>object</em>, use DELETE (see <a href="#delete">this section</a>).</p><h4 id="require">3.5.2.3 REQUIRE</h4><p>REQUIRE followed by a member name makes entry of that member mandatory if it was otherwise optional; it is useful in defining a TYPE (see <a href="#deftype">this section</a>) when you desire to make sure the user enters a particular member, for example to be sure the TYPE is applied in the intended manner. REQUIRE by itself does not delete any previously entered value, so if the member already has a value, you will need to UNSET it. ?? <em>verify</em></p><h4 id="freeze">3.5.2.4 FREEZE</h4><p>FREEZE followed by a member name makes it illegal to UNSET or redefine that member of the object. Note that FREEZE is unnecessary most of the time since CSE issues an error message for duplicate definitions without an intervening UNSET, unless the original definition came from a TYPE (see <a href="#deftype">this section</a>). Situations where you might want to FREEZE one or more members include:</p><ul><li><p>When defining a TYPE (see <a href="#deftype">this section</a>). Normally, the member values in a type are like defaults; they can be freely overridden by member specifications at each use. If you wish to insure a TYPE is used as intended, you may wish to FREEZE members to prevent accidental misuse.</p></li><li><p>When your are defining objects for later use or for somebody else to use (perhaps in a file to be included) and you wish to guard against misuse, you may wish to FREEZE members. Of course, this is not foolproof, since there is at present no way to allow use of predefined objects or types without allowing access to the statements defining them.</p></li></ul><h3 id="action-commands">3.5.3 Action Commands</h3><p>CSE has two action commands, RUN and CLEAR.</p><h4 id="run">3.5.3.1 RUN</h4><p>RUN tells <code>CSE</code> to do an hourly simulation with the data now in memory, that is, the data given in the preceding part of the input file.</p><p>Note that CSE does NOT automatically run the simulator; an input file containing no RUN results in no simulation (you might nevertheless wish to submit an incomplete file to CSE to check for errors in the data already entered). The explicit RUN command also makes it possible to do multiple simulation runs in one session using a single input file.</p><p>When RUN is encountered in the input file, CSE checks the data. Many error messages involving inconsistencies between member values or missing required members occur at this time. If the data is good, CSE starts the simulation. When the simulation is complete and the reports have been output, CSE continues reading the input file. Statements after the first run can add to or change the data in preparation for another RUN. Note that the data for the first run is NOT automatically removed; if you wish to start over with complete specifications, use CLEAR after RUN.</p><h4 id="clear">3.5.3.2 CLEAR</h4><p>CLEAR removes all input data (objects and all their members) from CSE memory. CLEAR is normally used after RUN, when you wish to perform another simulation run and wish to start clean. If CLEAR is not used, the objects from the prior run’s input remain in memory and may be changed or added to produce the input data for the next simulation run.</p><h2 id="expressions">3.6 Expressions</h2><p>Probably the CSE input language’s most powerful characteristic is its ability to accept expressions anywhere a single number, string, object name, or other value would be accepted. Preceding examples have shown the inputting zone areas and volumes as numbers (some defined via preprocessor macros) with *’s between them to signify multiplication, to facilitate changes and avoid errors that might occur in manual arithmetic. Such expressions, where all operands are constants, are acceptable <em>anywhere</em> a constant of the same type would be allowed.</p><p>But for many object members, CSE accepts <em>live expressions</em> that <em>vary</em> according to time of day, weather, zone temperatures, etc. (etc., etc., etc.!). Live expressions permit simulation of many relationships without special-purpose features in the language. Live expressions support controlling setpoints, scheduling HVAC system operation, resetting air handler supply temperature according to outdoor temperature, and other necessary and foreseen functions without dedicated language features; they will also support many unforeseen user-generated functionalities that would otherwise be unavailable.</p><p>Additional expression flexibility is provided by the ability to access all of the input data and much of the internal data as operands in expressions (<em>probes</em>, see <a href="#probes">this section</a>).</p><p>As in a programming language, CSE expressions are constructed from operators and operands; unlike most programming languages, CSE determines how often an expression’s operands change and automatically compute and store the value as often as necessary.</p><p>Expressions in which all operands are known when the statement is being decoded (for example, if all values are constants) are <em>always</em> allowed, because the input language processor immediately evaluates them and presents the value to the rest of the program in the same manner as if a single number had been entered. <em>Most</em> members also accept expressions that can be evaluated as soon as the run’s input is complete, for example expressions involving a reference to another member that has not been given yet. Expressions that vary during the run, say at hourly or daily intervals, are accepted by <em>many</em> members. The <em>variability</em> or maximum acceptable variation for each member is given in the descriptions in the <a href="input-data.html#input-data">input data</a> section, and the <em>variation</em> of each non-constant expression component is given in its description in this section.</p><p><span class="underline">Interaction of expressions and the preprocessor</span>: Generally, they don’t interact. The preprocessor is a text processor which completes its work by including specified files, deleting sections under false #if’s, remembering define definitions, replacing macro calls with the text of the definition, removing preprocessor directives from the text after interpreting them, etc., <em>then</em> the resulting character stream is analyzed by the input language statement compiler. However, the if statement takes an integer numeric expression argument. This expression is similar to those described here except that it can only use constant operands, since the preprocessor must evaluate it before deciding what text to feed to the input statement statement compiler.</p><h3 id="expression-types">3.6.1 Expression Types</h3><p>The type of value to which an expression must evaluate is specified in each member description (see the <a href="input-data.html#input-data">input data</a> section) or other context in which an expression can be used. Each expression may be a single constant or may be made up of operators and operands described in the rest of this section, so long as the result is the required type or can be converted to that type by CSE, and its variation is not too great for the context. The possible types are:</p><table style="width:97%"><colgroup><col style="width:27%"><col style="width:69%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><em>float</em></td><td>A real number (3.0, 5.34, -2., etc.). Approximately 7 digits are carried internally. If an int is given where a real is required, it is automatically converted.</td></tr><tr class="even"><td style="text-align:left"><em>int</em></td><td>An integer or whole number (-1, 0, 1, 2 etc.). If a real is given, an error may result, but we should change it to convert it (discarding any fractional part).</td></tr><tr class="odd"><td style="text-align:left"><em>Boolean</em></td><td>Same as int; indicates that a 0 value will be interpreted as “false” and any non-0 value will be interpreted as “true”.</td></tr><tr class="even"><td style="text-align:left"><em>string</em></td><td>A string of characters; for example, some text enclosed in quotes.</td></tr><tr class="odd"><td style="text-align:left"><em>object name</em></td><td>Name of an object of a specified class. Differs from <em>string</em> in that the name need not be enclosed in quotes if it consists only of letters, digits, _, and $, begins with a non-digit, and is different from all reserved words now in or later added to the language (see <a href="#object-names">Object Names</a>).</td></tr><tr class="even"><td style="text-align:left"></td><td>The object may be defined after it is referred to. An expression using conditional operators, functions, etc. may be used provided its value is known when the RUN action command is reached.; no members requiring object names accept values that vary during the simulation.</td></tr><tr class="odd"><td style="text-align:left"><em>choice</em></td><td>One of several choices; a list of the acceptable values is given wherever a <em>choice</em> is required. The choices are usually listed in CAPITALS but may be entered in upper or lower case as desired. As with object names, quotes are allowed but not required.</td></tr><tr class="even"><td style="text-align:left"></td><td>Expressions may be used for choices, subject to the variability of the context.</td></tr><tr class="odd"><td style="text-align:left"><em>date</em></td><td>May be entered as a 3-letter month abbreviation followed by an <em>int</em> for the day of the month, or an <em>int</em> for the Julian day of the year (February is assumed to have 28 days). Expressions may be used subject to variability limitations. Examples:</td></tr><tr class="even"><td style="text-align:left"></td><td><code>Jan 23   // January 23</code></td></tr><tr class="odd"><td style="text-align:left"></td><td><code>23       // January 23</code></td></tr><tr class="even"><td style="text-align:left"></td><td><code>32       // February 1</code></td></tr></tbody></table><p>These words are used in following descriptions of contexts that can accept more than one basic type:</p><table style="width:97%"><colgroup><col style="width:27%"><col style="width:69%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><em>numeric</em></td><td style="text-align:left"><em>float</em> or <em>int</em>. When floats and ints are intermixed with the same operator or function, the result is float.</td></tr><tr class="even"><td style="text-align:left"><em>anyType</em></td><td style="text-align:left">Any type; the result is the same type as the argument. If floats and ints are intermixed, the result is float. If strings and valid choice names are intermixed, the result is <em>choice</em>. Other mixtures of types are generally illegal, except in expressions for a few members that will accept either one of several choices or a numeric value.</td></tr></tbody></table><p>The next section describes the syntax of constants of the various data types; then, we will describe the available operators, then other operand types such as system variables and built-in functions.</p><h3 id="constants">3.6.2 Constants</h3><p>This section reviews how to enter ordinary non-varying numbers and other values.</p><table style="width:97%"><colgroup><col style="width:27%"><col style="width:69%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><em>int</em></td><td style="text-align:left">optional - sign followed by digits. Don’t use a decimal point if your intent is to give an <em>int</em> quantity – the decimal point indicates a <em>float</em> to CSE. Hexadecimal and Octal values may be given by prefixing the value with 0x and 0O respectively (yes, that really is a zero followed by an ‘O’).</td></tr><tr class="even"><td style="text-align:left"><em>float</em></td><td style="text-align:left">optional - sign, digits and decimal point. Very large or small values can be entered by following the number with an “e” and a power of ten. Examples;</td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">    <code>1.0  1.  .1  -5534.6  123.e25  4.56e-23</code></td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">The decimal point indicates a float as opposed to an int. Generally it doesn’t matter as CSE converts ints to floats as required, but be careful when dividing: CSE interprets “2/3” as integer two divided by integer 3, which will produce an integer 0 before CSE notices any need to convert to <em>float</em>. If you mean .6666667, say 2./3, 2/3., or .6666667.</td></tr><tr class="odd"><td style="text-align:left"><em>feet and inches</em></td><td style="text-align:left">Feet and inches may be entered where a <em>float</em> number of feet is required by typing the feet (or a 0 if none), a single quote ’, then the inches. (Actually this is an operator meaning “divide the following value by 12 and add it to the preceding value”, so expressions can work with it.) Examples:</td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">    <code>3'6  0'.5 (10+20)'(2+3)</code></td></tr><tr class="odd"><td style="text-align:left"><em>string</em></td><td style="text-align:left">“Text” – desired characters enclosed in double quotes. Maximum length 80 characters (make 132??). To put a &quot; within the “’s, precede it with a backslash. Certain control codes can be represented with letters preceded with a backslash as follows:</td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">    <code>\\e    escape</code></td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">    <code>\\t    tab</code></td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">    <code>\\f    form feed</code></td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">    <code>\\r    carriage return</code></td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">    <code>\\n    newline or line feed</code></td></tr><tr class="odd"><td style="text-align:left"><em>object name</em></td><td style="text-align:left">Same as <em>string</em>, or without quotes if name consists only of letters, digits, _, and $, begins with a non-digit, and is different from all reserved words now in or later added to the language (see <a href="#object-names">Object Names</a>). Control character codes (ASCII 0-31) are not allowed.</td></tr><tr class="even"><td style="text-align:left"><em>choice</em></td><td style="text-align:left">Same as string; quotes optional on choice words valid for the member. Capitalization does not matter.</td></tr><tr class="odd"><td style="text-align:left"><em>date</em></td><td style="text-align:left">Julian day of year (as <em>int</em> constant), or month abbreviation</td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">    <code>Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov De c</code></td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">followed by the <em>int</em> day of month. (Actually, the month names are operators implemented to add the starting day of the month to the following <em>int</em> quantity).</td></tr></tbody></table><h3 id="operators">3.6.3 Operators</h3><p>For <em>floats</em> and <em>ints</em>, the CSE input language recognizes a set of operators based closely on those found in the C programming language. The following table describes the available numeric operators. The operators are shown in the order of execution (precedence) when no ()’s are used to control the order of evaluation; thin lines separate operators of equal precedence.</p><table style="width:97%"><colgroup><col style="width:20%"><col style="width:29%"><col style="width:47%"></colgroup><thead><tr class="header"><th style="text-align:center"><strong>Operator</strong></th><th style="text-align:left"><strong>Name</strong></th><th style="text-align:left"><strong>Notes and Examples</strong></th></tr></thead><tbody><tr class="odd"><td style="text-align:center">’</td><td style="text-align:left">Feet-Inches Separator</td><td style="text-align:left">a ’ b yields a + b/12; thus 4’6 = 4.5.</td></tr><tr class="even"><td style="text-align:center">+</td><td style="text-align:left">Unary plus</td><td style="text-align:left">The familiar “positive”, as in +3. Does nothing; rarely used.</td></tr><tr class="odd"><td style="text-align:center">-</td><td style="text-align:left">Unary minus</td><td style="text-align:left">The familiar “minus”, as in -3. -(-3) = +3 etc.</td></tr><tr class="even"><td style="text-align:center">!</td><td style="text-align:left">Logical NOT</td><td style="text-align:left">Changes 0 to 1 and any non-0 value to 0. !0 = 1, !17 = 0.</td></tr><tr class="odd"><td style="text-align:center">~</td><td style="text-align:left">One’s complement</td><td style="text-align:left">Complements each bit in an <em>int</em> value.</td></tr><tr class="even"><td style="text-align:center">*</td><td style="text-align:left">Multiplication</td><td style="text-align:left">Multiplication, e.g. 3*4 = 12; 3.24*18.54 = 60.07</td></tr><tr class="odd"><td style="text-align:center">/</td><td style="text-align:left">Division</td><td style="text-align:left">Division, e.g. 4/2 = 2, 3.24/1.42 = 2.28. Integer division truncates toward 0 (e.g. 3/2 = 1, 3/-2 = -1, -3/2 = -1, 2/3 = 0) CAUTION!</td></tr><tr class="even"><td style="text-align:center">%</td><td style="text-align:left">Modulus</td><td style="text-align:left">Yields the remainder after division, e.g. 7%2 = 1. The result has the same sign as the left operand (e.g.(-7)%2 = -1). % is defined for both integer and floating point operands (unlike ANSI C).</td></tr><tr class="odd"><td style="text-align:center">+</td><td style="text-align:left">Addition</td><td style="text-align:left">Yields the sum of the operands, e.g. 5+3 = 8</td></tr><tr class="even"><td style="text-align:center">-</td><td style="text-align:left">Subtraction</td><td style="text-align:left">Yields the difference of the operands, e.g. 5-3 = 2</td></tr><tr class="odd"><td style="text-align:center">&gt;&gt;</td><td style="text-align:left">Right shift</td><td style="text-align:left">a &gt;&gt; b yields a shifted right b bit positions, e.g. 8&gt;&gt;2 = 2</td></tr><tr class="even"><td style="text-align:center">&lt;&lt;</td><td style="text-align:left">Left shift</td><td style="text-align:left">a &lt;&lt; b yields a shifted left b bit positions, e.g. 8&lt;&lt;2 = 32</td></tr><tr class="odd"><td style="text-align:center">&lt;</td><td style="text-align:left">Less than</td><td style="text-align:left">a &lt; b yields 1 if a is less than b, otherwise 0</td></tr><tr class="even"><td style="text-align:center">&lt;=</td><td style="text-align:left">Less than or equal</td><td style="text-align:left">a &lt;= b yields 1 if a is less than or equal to b, otherwise 0</td></tr><tr class="odd"><td style="text-align:center">&gt;=</td><td style="text-align:left">Greater than or equal</td><td style="text-align:left">a &gt;= b yields 1 if a is greater than or equal to b, otherwise 0</td></tr><tr class="even"><td style="text-align:center">&gt;</td><td style="text-align:left">Greater than</td><td style="text-align:left">a &gt; b yields 1 if a is greater than b, otherwise 0</td></tr><tr class="odd"><td style="text-align:center">==</td><td style="text-align:left">Equal</td><td style="text-align:left">a == b yields 1 if a is <em>exactly</em> (bit wise) equal to b, otherwise 0</td></tr><tr class="even"><td style="text-align:center">!=</td><td style="text-align:left">Not equal</td><td style="text-align:left">a != b yields 1 if a is not equal to b, otherwise 0</td></tr><tr class="odd"><td style="text-align:center">&amp;</td><td style="text-align:left">Bitwise and</td><td style="text-align:left">a &amp; b yields the bitwise AND of the operands, e.g. 6 &amp; 2 = 2.</td></tr><tr class="even"><td style="text-align:center">^</td><td style="text-align:left">Bitwise exclusive or</td><td style="text-align:left">a ^ b yields the bitwise XOR of the operands, e.g. 6 ^ 2 = 4.</td></tr><tr class="odd"><td style="text-align:center">|</td><td style="text-align:left">Bitwise inclusive or</td><td style="text-align:left">a | b yields the bitwise IOR of the operands, e.g. 6 | 2 = 6.</td></tr><tr class="even"><td style="text-align:center">&amp;&amp;</td><td style="text-align:left">Logical AND</td><td style="text-align:left">a &amp;&amp; b yields 1 if both a and b are non-zero, otherwise 0. &amp;&amp; guarantees left to right evaluation: if the first operand evaluates to 0, the second operand is not evaluated and the result is 0.</td></tr><tr class="odd"><td style="text-align:center">||</td><td style="text-align:left">Logical OR</td><td style="text-align:left">a || b yields 1 if either a or b is true (non-0), otherwise 0. || guarantees left to right evaluation: if the first operand evaluates to non-zero, the second operand in not evaluated and the result is 1.</td></tr><tr class="even"><td style="text-align:center">? :</td><td style="text-align:left">Conditional</td><td style="text-align:left">a ? b : c yields b if a is true (non-0), otherwise c.</td></tr></tbody></table><p><em>Dates</em> are stored as <em>ints</em> (the value being the Julian day of the year), so all numeric operators could be used. The month abbreviations are implemented as operators that add the first day of the month to the following <em>int</em> value; CSE does not disallow their use in other numeric contexts.</p><p>For <em>strings</em>, <em>object names</em>, and <em>choices</em>, the CSE input language currently has no operators except the ?: conditional operator. A concatenation operator is being considered. Note, though, that the choose, choose1, select, and hourval functions described below work with strings, object names, and choice values as well as numbers.</p><h3 id="system-variables">3.6.4 System Variables</h3><p><em>System Variables</em> are built-in operands with useful values. To avoid confusion with other words, they begin with a $. Descriptions of the CSE system variables follow. Capitalization shown need not be matched. Most system variables change during a simulation run, resulting in the <em>variations</em> shown; they cannot be used where the context will not accept variation at least this fast. (The <a href="input-data.html#input-data">Input Data Section</a> gives the <em>variability</em>, or maximum acceptable variation, for each object member.)</p><table style="width:97%"><colgroup><col style="width:23%"><col style="width:73%"></colgroup><tbody><tr class="odd"><td style="text-align:left">$dayOfYear</td><td style="text-align:left">Day of year of simulation, 1 - 365; 1 corresponds to Jan-1. (Note that this is not the day of the simulation unless begDay is Jan-1.) <strong>Variation:</strong> daily.</td></tr><tr class="even"><td style="text-align:left">$month</td><td style="text-align:left">Month of year, 1 - 12. <strong>Variation</strong>: monthly.</td></tr><tr class="odd"><td style="text-align:left">$dayOfMonth</td><td style="text-align:left">Day of month, 1 - 31. <strong>Variation</strong>: daily.</td></tr><tr class="even"><td style="text-align:left">$hour</td><td style="text-align:left">Hour of day, 1 - 24, in local time; 1 corresponds to midnight - 1 AM. <strong>Variation</strong>: hourly.</td></tr><tr class="odd"><td style="text-align:left">$hourST</td><td style="text-align:left">Hour of day, 1 - 24, in standard time; 1 corresponds to midnight - 1 AM. <strong>Variation</strong>: hourly.</td></tr><tr class="even"><td style="text-align:left">$subhour</td><td style="text-align:left">Subhour of hour, 1 - N (number of subhours). <strong>Variation</strong>: subhourly.</td></tr><tr class="odd"><td style="text-align:left">$dayOfWeek</td><td style="text-align:left">Day of week, 1 - 7; 1 corresponds to Sunday, 2 to Monday, etc. <strong>Variation:</strong> daily.</td></tr><tr class="even"><td style="text-align:left">$DOWH</td><td style="text-align:left">Day of week 1-7 except 8 on every observed holiday. <strong>Variation</strong>: daily.</td></tr><tr class="odd"><td style="text-align:left">$isHoliday</td><td style="text-align:left">1 on days that a holiday is observed (regardless of the true date of the holiday); 0 on other days. <strong>Variation</strong>: daily.</td></tr><tr class="even"><td style="text-align:left">$isHoliTrue</td><td style="text-align:left">1 on days that are the true date of a holiday, otherwise 0. <strong>Variation</strong>: daily.</td></tr><tr class="odd"><td style="text-align:left">$isWeHol</td><td style="text-align:left">1 on weekend days or days that are observed as holidays. <strong>Variation:</strong> daily.</td></tr><tr class="even"><td style="text-align:left">$isWeekend</td><td style="text-align:left">1 on Saturday and Sunday, 0 on any day from Monday to Friday. <strong>Variation:</strong> daily.</td></tr><tr class="odd"><td style="text-align:left">$isWeekday</td><td style="text-align:left">1 on Monday through Friday, 0 on Saturday and Sunday. <strong>Variation:</strong> daily.</td></tr><tr class="even"><td style="text-align:left">$isBegWeek</td><td style="text-align:left">1 for any day immediately following a weekend day or observed holiday that is neither a weekend day or an observed holiday. <strong>Variation:</strong> daily.</td></tr><tr class="odd"><td style="text-align:left">$isWorkDay</td><td style="text-align:left">1 on non-holiday Monday through Friday, 0 on holidays, Saturday and Sunday. <strong>Variation:</strong> daily.</td></tr><tr class="even"><td style="text-align:left">$isNonWorkDay</td><td style="text-align:left">1 on Saturday, Sunday and observed holidays, 0 on non-holiday Monday through Friday. <strong>Variation:</strong> daily.</td></tr><tr class="odd"><td style="text-align:left">$isBegWorkWeek</td><td style="text-align:left">1 on the first workday after a non-workday, 0 all other days. <strong>Variation:</strong> daily.</td></tr><tr class="even"><td style="text-align:left">$isDT</td><td style="text-align:left">1 if Daylight Saving time is in effect, 0 otherwise. <strong>Variation:</strong> hourly.</td></tr><tr class="odd"><td style="text-align:left">$autoSizing</td><td style="text-align:left">1 during autosizing calculations, 0 during main simulation. <strong>Variation:</strong> for each phase.</td></tr><tr class="even"><td style="text-align:left">$dsDay</td><td style="text-align:left">Design day type, 0 during main simulation, 1 during heating autosize, 2 during cool autosize. <strong>Variation:</strong> daily.</td></tr></tbody></table><p><strong>Weather variables</strong>: the following allow access to the current hour’s weather conditions in you CSE expressions. Units of measure are shown in parentheses. All have <strong>Variation</strong>: hourly.</p><table style="width:97%"><colgroup><col style="width:26%"><col style="width:70%"></colgroup><tbody><tr class="odd"><td style="text-align:left">$radBeam</td><td style="text-align:left">Solar beam irradiance (on a sun-tracking surface) this hour (Btu/ft2)</td></tr><tr class="even"><td style="text-align:left">$radDiff</td><td style="text-align:left">Solar diffuse irradiance (on horizontal surface) this hour (Btu/ft2)</td></tr><tr class="odd"><td style="text-align:left">$tDbO</td><td style="text-align:left">Outdoor drybulb temperature this hour (degrees F)</td></tr><tr class="even"><td style="text-align:left">$tWbO</td><td style="text-align:left">Outdoor wetbulb temperature this hour (degrees F)</td></tr><tr class="odd"><td style="text-align:left">$wO</td><td style="text-align:left">Outdoor humidity ratio this hour (lb H2O/lb dry air)</td></tr><tr class="even"><td style="text-align:left">$windDirDeg</td><td style="text-align:left">Wind direction (compass degrees)</td></tr><tr class="odd"><td style="text-align:left">$windSpeed</td><td style="text-align:left">Wind speed (mph)</td></tr></tbody></table><h3 id="built-in-functions">3.6.5 Built-in Functions</h3><p>Built-in functions perform a number of useful scheduling and conditional operations in expressions. Built-in functions have the combined variation of their arguments; for <em>hourval</em>, the minimum result variation is hourly. For definitions of <em>numeric</em> and <em>anyType</em>, see <a href="#expression-types">Expression Types</a>.</p><h4 id="brkt">3.6.5.1 brkt</h4><table style="width:97%"><colgroup><col style="width:22%"><col style="width:75%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">limits a value to be in a given range</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>numeric</em> <strong>brkt</strong>( <em>numeric min, numeric val, numeric max</em>)</td></tr><tr class="odd"><td style="text-align:left"><strong>Remark</strong></td><td style="text-align:left">If <em>val</em> is less than <em>min</em>, returns <em>min</em>; if <em>val</em> is greater than <em>max,</em> returns <em>max</em>; if <em>val</em> is in between, returns <em>val</em>.</td></tr><tr class="even"><td style="text-align:left"><strong>Example</strong></td><td style="text-align:left">In an AIRHANDLER object, the following statement would specify a supply temperature equal to 130 minus the outdoor air temperature, but not less than 55 nor greater than 80:</td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">    <code>ahTsSp = brkt( 55, 130 - $tDbO, 80);</code></td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">This would produce a 55-degree setpoint in hot weather, an 80-degree setpoint in cold weather, and a transition from 55 to 70 as the outdoor temperature moved from 75 to 50.</td></tr></tbody></table><h4 id="fix">3.6.5.2 fix</h4><table style="width:97%"><colgroup><col style="width:22%"><col style="width:75%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">converts <em>float</em> to <em>int</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>int</em> <strong>fix</strong>( <em>float val</em> )</td></tr><tr class="odd"><td style="text-align:left"><strong>Remark</strong></td><td style="text-align:left"><em>val</em> is converted to <em>int</em> by truncation – <strong>fix</strong>( 1.3) and <strong>fix</strong>( 1.99) both return 1. <strong>fix</strong>( -4.4) returns -4.</td></tr></tbody></table><h4 id="tofloat">3.6.5.3 toFloat</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">converts <em>int</em> to <em>float</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>toFloat</strong>( <em>int val</em> )</td></tr></tbody></table><h4 id="min">3.6.5.4 min</h4><table style="width:97%"><colgroup><col style="width:22%"><col style="width:75%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">returns the lowest quantity from a list of values.</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>numeric</em> <strong>min</strong>( <em>numeric value1, numeric value2, …</em> <em>numeric valuen</em> )</td></tr><tr class="odd"><td style="text-align:left"><strong>Remark</strong></td><td style="text-align:left">there can be any number of arguments separated by commas; if floats and ints are intermixed, the result is float.</td></tr></tbody></table><h4 id="max">3.6.5.5 max</h4><table style="width:97%"><colgroup><col style="width:22%"><col style="width:75%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">returns the highest quantity from a list of values.</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>numeric</em> <strong>max</strong> ( <em>numeric value1, numeric value2,</em> … <em>numeric valuen</em> )</td></tr></tbody></table><h4 id="choose">3.6.5.6 choose</h4><table style="width:97%"><colgroup><col style="width:22%"><col style="width:75%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">returns the nth value from a list. If <em>arg0</em> is 0, <em>value0</em> is returned; for 1, <em>value1</em> is returned, etc.</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>anyType</em> <strong>choose</strong> ( <em>int arg0, anyType value0, anyType</em> <em>value1, … anyType valuen</em> ) or <em>anyType</em> <strong>choose</strong> ( <em>int arg0, anyType value0, … anyType</em> <em>valuen</em>, <strong>default</strong> <em>valueDef</em>)</td></tr><tr class="odd"><td style="text-align:left"><strong>Remarks</strong></td><td style="text-align:left">Any number of <em>value</em> arguments may be given. If <strong>default</strong> and another value is given, this value will be used if <em>arg0</em> is less than 0 or too large; otherwise, an error will occur.</td></tr></tbody></table><h4 id="choose1">3.6.5.7 choose1</h4><table style="width:97%"><colgroup><col style="width:20%"><col style="width:76%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td>same as choose except <em>arg0</em> is 1-based. Choose1 returns the second argument <em>value1</em> for <em>arg0</em> = 1, the third argument <em>value2</em> when <em>arg0</em> = 2, etc.</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td><em>anyType</em> <strong>choose1</strong> ( <em>int arg0, anyType value1, anyType</em> <em>value2, … anyType valuen</em> ) or <em>anyType</em> <strong>choose1</strong> ( <em>int arg0, anyType value1,</em> … <em>anyType valuen,</em> <strong>default</strong> <em>valueDef</em>)</td></tr><tr class="odd"><td style="text-align:left"><strong>Remarks</strong></td><td><strong>choose1</strong> is a function that is well suited for use with daily system variables. For example, if a user wanted to denote different values for different days of the week, the following use of <strong>choose1</strong> could be implemented:</td></tr><tr class="even"><td style="text-align:left"></td><td>    <code>tuTC = choose1(\$dayOfWeek, MonTemp, TueTemp, ...)</code></td></tr><tr class="odd"><td style="text-align:left"></td><td>Note that for hourly data, the <strong>hourval</strong> function would be a better choice, because it doesn’t require the explicit declaration of the $hour system variable.</td></tr></tbody></table><h4 id="select">3.6.5.8 select</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">contains Boolean-value pairs; returns the value associated with the first Boolean that evaluates to true (non-0).</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>anyType</em> ( <em>Boolean arg1, anyType value1, Boolean arg2,</em> <em>anyType value2, …</em> <strong>default</strong> <em>anyType</em>) (the <strong>default</strong> part is optional)</td></tr><tr class="odd"><td><strong>Remark</strong></td><td style="text-align:left"><strong>select</strong> is a function that simulates if-then logic during simulation (for people familiar with C, it works much like a series of imbedded conditionals: (a?b:(a?b:c)) ).</td></tr><tr class="even"><td><strong>Examples</strong></td><td style="text-align:left">Select can be used to simulate a <strong>dynamic</strong> (run-time) <strong>if-else</strong> <strong>statement</strong>:</td></tr><tr class="odd"><td></td><td style="text-align:left"><code>gnPower = select( $isHoliday, HD_GAIN,  // if ($isHolid a y)</code></td></tr><tr class="even"><td></td><td style="text-align:left"><code>default WD_GAIN)  // else</code></td></tr><tr class="odd"><td></td><td style="text-align:left">This technique can be combined with other functions to schedule items on a hourly and daily basis. For example, an internal gain that has different schedules for holidays, weekdays, and weekends could be defined as follows:</td></tr><tr class="even"><td></td><td style="text-align:left"><code>// 24-hour lighting power schedules for weekend, weekda y , holiday:</code></td></tr><tr class="odd"><td></td><td style="text-align:left"><code>#define WE_LIGHT  hourval( .024, .022, .021, .021, .021 , . 026, \</code></td></tr><tr class="even"><td></td><td style="text-align:left">             <code>.038, .059, .056, .060, .059, .046, \</code></td></tr><tr class="odd"><td></td><td style="text-align:left">             <code>.045, .005, .005, .005, .057, .064, \</code></td></tr><tr class="even"><td></td><td style="text-align:left">             <code>.064, .052, .050, .055, .044, .027 )</code></td></tr><tr class="odd"><td></td><td style="text-align:left"><code>#define WD_LIGHT  hourval( .024, .022, .021, .021, .021 , . 026, \</code></td></tr><tr class="even"><td></td><td style="text-align:left">             <code>.038, .059, .056, .060, .059, .046, \</code></td></tr><tr class="odd"><td></td><td style="text-align:left">             <code>.045, .005, .005, .005, .057, .064, \</code></td></tr><tr class="even"><td></td><td style="text-align:left">             <code>.064, .052, .050, .055, .044, .027 )</code></td></tr><tr class="odd"><td></td><td style="text-align:left"><code>#define HD_LIGHT  hourval( .024, .022, .021, .021, .021 , . 026, \</code></td></tr><tr class="even"><td></td><td style="text-align:left">             <code>.038, .059, .056, .060, .059, .046, \</code></td></tr><tr class="odd"><td></td><td style="text-align:left">             <code>.045, .005, .500, .005, .057, .064, \</code></td></tr><tr class="even"><td></td><td style="text-align:left">             <code>.064, .052, .050, .055, .044, .027 )</code></td></tr><tr class="odd"><td></td><td style="text-align:left"><code>// set power member of zone's GAIN object for lighting</code></td></tr><tr class="even"><td></td><td style="text-align:left"><code>gnPower = BTU_Elec( ZAREA*0.1 ) *          // .1 kW/ft2 ti mes...</code></td></tr><tr class="odd"><td></td><td style="text-align:left">    <code>select( $isHoliday, HD_LIGHT,   // Holidays</code></td></tr><tr class="even"><td></td><td style="text-align:left">       <code>$isWeekend, WE_LIGHT,   // Saturday &amp; Sunday</code></td></tr><tr class="odd"><td></td><td style="text-align:left">       <code>default     WD_LIGHT ); // Week Days</code></td></tr><tr class="even"><td></td><td style="text-align:left">In the above, three subexpressions using <strong>hourval</strong> (next) are first defined as macros, for ease of reading and later change. Then, gnPower (the power member of a GAIN object) is set, using <strong>select</strong> to choose the appropriate one of the three <strong>hourval</strong> calls for the type of day. The expression for gnPower is a <em>live expression</em> with hourly variation, that is, CSE will evaluate it an set gnPower to the latest value each hour of the simulation. The variation comes from <strong>hourval</strong>, which varies hourly (also, $isHoliday and $isWeekend vary daily, but the faster variation determines the variation of the result).</td></tr></tbody></table><h4 id="hourval">3.6.5.9 hourval</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">from a list of 24 values, returns the value corresponding to the hour of day.</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>anyType hourval ( anyType value1, anyType value2,</em> … <em>anyType value24</em> )</td></tr><tr class="odd"><td></td><td style="text-align:left"><em>anyType hourval ( anyType value1, anyType value2</em>, … <strong>default</strong> <em>anyType</em>)</td></tr><tr class="even"><td><strong>Remark</strong></td><td style="text-align:left"><strong>hourval</strong> is evaluated at runtime and uses the hour of the day being simulated to choose the corresponding value from the 24 suppplied values.</td></tr><tr class="odd"><td></td><td style="text-align:left">If less than 24 <em>value</em> arguments are given, <strong>default</strong> and another value (or expression) should be supplied to be used for hours not explicitly specified.</td></tr><tr class="even"><td><strong>Example</strong></td><td style="text-align:left">see <strong>select</strong>, just above.</td></tr></tbody></table><h4 id="abs">3.6.5.10 abs</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">converts numeric to its absolute value</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left">numeric <strong>abs</strong>( numeric val)</td></tr></tbody></table><h4 id="sqrt">3.6.5.11 sqrt</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td>Calculates and returns the positive square root of <em>val</em> ( <em>val</em> must be <span class="math inline">\(\geq\)</span> 0).</td></tr><tr class="even"><td><strong>Syntax</strong></td><td><em>float</em> <strong>sqrt</strong> ( <em>float val</em>)</td></tr></tbody></table><h4 id="exp">3.6.5.12 exp</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns the exponential of <em>val</em> (= e<em><sup>val</sup></em>)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>exp</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="loge">3.6.5.13 logE</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns the base e logarithm of <em>val</em> ( <em>val</em> must be <span class="math inline">\(\geq\)</span> 0).</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>logE</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="log10">3.6.5.14 log10</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns the base 10 logarithm of <em>val</em> ( <em>val</em> must be <span class="math inline">\(\geq\)</span> 0).</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>log10</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="sin">3.6.5.15 sin</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns the sine of <em>val</em> (val in radians)</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>sin</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="sind">3.6.5.16 sind</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns the sine of <em>val</em> (val in degrees)</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>sind</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="asin">3.6.5.17 asin</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in radians) the arcsine of <em>val</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>asin</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="asind">3.6.5.18 asind</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in degrees) the arcsine of <em>val</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>asind</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="cos">3.6.5.19 cos</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns the cosine of <em>val</em> (val in radians)</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>cos</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="cosd">3.6.5.20 cosd</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns the cosine of <em>val</em> (val in degrees)</td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>cosd</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="acos">3.6.5.21 acos</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in radians) the arccosine of <em>val</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>acos</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="acosd">3.6.5.22 acosd</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in degrees) the arccosine of <em>val</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>acosd</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="tan">3.6.5.23 tan</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns the tangent of <em>val</em> (val in radians)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>tan</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="tand">3.6.5.24 tand</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns the tangent of <em>val</em> (val in degrees)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>tand</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="atan">3.6.5.25 atan</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in radians) the arctangent of <em>val</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>atan</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="atand">3.6.5.26 atand</h4><table><tbody><tr class="odd"><td style="text-align:left"><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in degrees) the arctangent of <em>val</em></td></tr><tr class="even"><td style="text-align:left"><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>atand</strong>( <em>float val</em>)</td></tr></tbody></table><h4 id="atan2">3.6.5.27 atan2</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in radians) the arctangent of y/x (handling x = 0)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>atan2</strong>( <em>float y, float x</em>)</td></tr></tbody></table><h4 id="atan2d">3.6.5.28 atan2d</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns (in degrees) the arctangent of y/x (handling x = 0)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>atan2d</strong>( <em>float y, float x</em>)</td></tr></tbody></table><h4 id="pow">3.6.5.29 pow</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Calculates and returns <em>val</em> raised to the <em>x</em>th power (= <em>val</em><sup>x</sup>). <em>val</em> and <em>x</em> cannot both be 0. If <em>val</em> &lt; 0, <em>x</em> must be integral.</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>pow</strong>( <em>float val, numeric x</em>)</td></tr></tbody></table><h4 id="enthalpy">3.6.5.30 enthalpy</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns enthalpy of moist air (Btu/lb) for dry bulb temperature (F) and humidity ratio (lb/lb)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>enthalpy</strong>( <em>float tDb, float w</em>)</td></tr></tbody></table><h4 id="wfromdbwb">3.6.5.31 wFromDbWb</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns humidity ratio (lb/lb) of moist air from dry bulb and wet bulb temperatures (F)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>wFromDbWb</strong>( <em>float tDb, float tWb</em>)</td></tr></tbody></table><h4 id="wfromdbrh">3.6.5.32 wFromDbRh</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns humidity ratio (lb/lb) of moist air from dry bulb temperature (F) and relative humidity (0 – 1)</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>wFromDbRh</strong>( <em>float tDb, float rh</em>)</td></tr></tbody></table><h4 id="rhfromdbw">3.6.5.33 rhFromDbW</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns relative humidity (0 – 1) of moist air from dry bulb temperature (F) and humidity ratio (lb/lb).</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>rhFromDbW</strong>( <em>float tDb, float w</em>)</td></tr><tr class="odd"><td><strong>Remark</strong></td><td style="text-align:left">The return value is constrained to 0 &lt;= rh &lt;= 1 (that is, physically impossible combinations of tDb and w are silently tolerated).</td></tr></tbody></table><h4 id="import">3.6.5.34 import</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns <em>float</em> read from an import file.</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>import</strong>( <em>string importFile, string colName</em>)<br>
<em>float</em> <strong>import</strong>( <em>string importFile, int colN</em>)</td></tr><tr class="odd"><td><strong>Remark</strong></td><td style="text-align:left">Columns can be referenced by name or 1-based index.<br>
See <a href="importfile.html#importfile">IMPORTFILE</a> for details on use of import()</td></tr></tbody></table><h4 id="importstr">3.6.5.35 importStr</h4><table style="width:97%"><colgroup><col style="width:16%"><col style="width:80%"></colgroup><tbody><tr class="odd"><td>**Functio n<em> </em></td><td style="text-align:left">Returns <em>string</em> read from an import file.</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>string</em> <strong>importStr</strong>( <em>string importFile, string colName</em>)<br>
<em>string</em> <strong>importStr</strong>( <em>string importFile, int colN</em>)</td></tr><tr class="odd"><td><strong>Remark</strong></td><td style="text-align:left">See <a href="importfile.html#importfile">IMPORTFILE</a> for details on use of importStr()</td></tr></tbody></table><h4 id="contin">3.6.5.36 contin</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns continuous control value, e.g. for lighting control</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>contin</strong>( <em>float</em> mpf, <em>float</em> mlf, <em>float</em> sp, <em>float</em> val)</td></tr><tr class="odd"><td><strong>Remark</strong></td><td style="text-align:left"><strong>contin</strong> is evaluated at runtime and returns a value in the range 0 – 1 ???</td></tr><tr class="even"><td><strong>Example</strong></td><td style="text-align:left">– </td></tr></tbody></table><h4 id="stepped">3.6.5.37 stepped</h4><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td><strong>Function</strong></td><td style="text-align:left">Returns stepped reverse-acting control value, e.g. for lighting control</td></tr><tr class="even"><td><strong>Syntax</strong></td><td style="text-align:left"><em>float</em> <strong>stepped</strong>( <em>int</em> nsteps, <em>float</em> sp, <em>float</em> val)</td></tr><tr class="odd"><td><strong>Remark</strong></td><td style="text-align:left"><strong>stepped</strong> is evaluated at runtime and returns a value in the range 0 – 1. If val &lt;= 0, 1 is returned; if val &gt;= sp, 0 is returned; otherwise, a stepped intermediate value is returned (see example)</td></tr></tbody></table><p><em>example:</em></p><p><strong>stepped</strong>( 3, 12, val) returns</p><table><thead><tr class="header"><th style="text-align:left"><em>val</em></th><th style="text-align:left"><em>result</em></th></tr></thead><tbody><tr class="odd"><td style="text-align:left">val <span class="math inline">\(&lt;\)</span> 4</td><td style="text-align:left">1</td></tr><tr class="even"><td style="text-align:left">4 <span class="math inline">\(\leq\)</span> val <span class="math inline">\(&lt;\)</span> 8</td><td style="text-align:left">.667</td></tr><tr class="odd"><td style="text-align:left">8 <span class="math inline">\(\leq\)</span> val <span class="math inline">\(&lt;\)</span> 12</td><td style="text-align:left">.333</td></tr><tr class="even"><td style="text-align:left">val <span class="math inline">\(\geq\)</span> 12</td><td style="text-align:left">0</td></tr></tbody></table><h3 id="user-defined-functions">3.6.6 User-defined Functions</h3><p>User defined functions have the format:</p><pre><code>    type FUNCTION name ( arg decls ) = expr ;</code></pre><p><em>Type</em> indicates the type of value the function returns, and can be:</p><pre><code>    INTEGER
    FLOAT
    STRING
    DOY       (day of year date using month name and day; actually same as integer).</code></pre><p><em>Arg decls</em> indicates zero or more comma-separated argument declarations, each consisting of a <em>type</em> (as above) and the name used for the argument in <em>expr</em>.</p><p><em>Expr</em> is an expression of (or convertible to) <em>type</em>.</p><p>The tradeoffs between using a user-defined function and a preprocessor macro (<code>#define</code>) include:</p><ol type="1"><li><p>Function may be slightly slower, because its code is always kept separate and called, while the macro expansion is inserted directly in the input text, resulting in inline code.</p></li><li><p>Function may use less memory, because only one copy of it is stored no matter how many times it is called.</p></li><li><p>Type checking: the declared types of the function and its arguments allow CSE to perform additional checks.</p></li></ol><p>Note that while macros require line-splicing (“\”)to extend over one line, functions do not require it:</p><pre><code>    // Function returning number of days in ith month of year:
    DOY FUNCTION MonthLU (integer i) = choose1 ( i , Jan 31, Feb 28, Mar 31,
                                                     Apr 30, May 31, Jun 30,
                                                     Jul 31, Aug 31, Sep 30,
                                                     Oct 31, Nov 30, Dec 31 ) ;
    // Equivalent preprocessor macro:
    #define MonthLU (i) = choose1 ( i , Jan 31, Feb 28, Mar 31,  \
                                        Apr 30, May 31, Jun 30,  \
                                        Jul 31, Aug 31, Sep 30,  \
                                        Oct 31, Nov 30, Dec 31 ) ;</code></pre><h3 id="probes">3.6.7 Probes</h3><p><em>Probes</em> provide a universal means of referencing data within the simulator. Probes permit using the inputtable members of each object, as described in the <a href="input-data.html#input-data">Input Data</a> Section, as operands in expressions. In addition, most internal members can be probed; we will describe how to find their names shortly.</p><p>Three general ways of using probes are:</p><ol type="1"><li>During input, to implement things like “make this window’s width equal to 10% of the zone floor area” by using the zone’s floor area in an expression:</li></ol><pre><code>    wnWidth = @zone[1].znArea * 0.1;</code></pre><p>Here “<code>@zone[1].znArea</code>” is the probe.</p><ol start="2" type="1"><li>During simulation. Probing during simulation, to make inputs be functions of conditions in the building or HVAC systems, is limited because most of the members of interest are updated <em>after</em> CSE has evaluated the user’s expressions for the subhour or other time interval – this is logically necessary since the expressions are inputs. (An exception is the weather data, but this is also available through system variables such as $tDbO.)</li></ol><p>However, a number of <em>prior subhour</em> values are available for probing, making it possible to implement relationships like “the local heat output of this terminal is 1000 Btuh if the zone temperature last subhour was below 65, else 500”:</p><pre><code>    tuMnLh = @znres[&quot;North&quot;].S.prior.tAir &lt; 65 ? 1000 : 500;</code></pre><ol start="3" type="1"><li>For output reports, allowing arbitrary data to be reported at subhourly, hourly, daily, monthly, or annual intervals. The REPORT class description describes the user-defined report type (UDT), for which you write the expression for the value to be reported. With probes, you can thus report almost any datum within CSE – not just those values chosen for reporting when the program was designed. Even values calculated during the current subhour simulation can be probed and reported, because expressions for reports are evaluated after the subhour’s calculations are performed.</li></ol><p>Examples:</p><pre><code>    colVal = @airHandler[&quot;Hot&quot;].ts;     // report air handler supply temp
    colVal = @terminal[NorthHot].cz;    // terminal air flow to zone (Btuh/F)</code></pre><p>The general form of a probe is</p><p>    @ <em>className</em> [ <em>objName</em> ] . <em>member</em></p><p>The initial @ is always necessary. And don’t miss the period after the ].</p><p><em>className</em> is the CLASS being probed</p><table style="width:96%"><colgroup><col style="width:18%"><col style="width:77%"></colgroup><tbody><tr class="odd"><td style="text-align:left"><em>objName</em></td><td style="text-align:left">is the name of the specific object of the class; alternately, a numeric subscript is allowed. Generally, the numbers correspond to the objects in the order created. [ <em>objName</em> ] can be omitted for the TOP class, which has only one member, Top.</td></tr><tr class="even"><td style="text-align:left"><em>member</em></td><td style="text-align:left">is the name of the particular member being probed. This must be exactly correct. For some inputtable members, the probe name is not the same as the input name given in the <a href="input-data.html#input-data">Input Data</a> Section, and there are many probe-able members not described in the <a href="input-data.html#input-data">Input Data</a> section.</td></tr></tbody></table><p>How do you find out what the probe-able member names are? CSE will display the a list of the latest class and member names if invoked with the -p switch. Use the command line</p><pre><code>    CSE -p &gt;probes.txt</code></pre><p>to put the displayed information into the file PROBES.TXT, then print the file or examine it with a text editor.</p><p>A portion of the <code>-p</code> output looks like:</p><pre><code>    @exportCol[1..].        I   R                   owner: export
                     name   I   R   string            constant
                  colHead   I   R   string            input time
                   colGap   I   R   integer number    input time
                   colWid   I   R   integer number    input time
                   colDec   I   R   integer number    input time
                  colJust   I   R   integer number    constant
                   colVal   I   R   un-probe-able     end of each subhour
                   nxColi   I   R   integer number    constant

    @holiday[1..].          I
                     name   I       string            constant
               hdDateTrue   I       integer number    constant
                hdDateObs   I       integer number    constant
               hdOnMonday   I       integer number    constant</code></pre><p>In the above “exportCol” and “holiday” are class names, and “name”, “colHead”, “colGap”, . . . are member names for class exportCol. Some members have multiple names separated by .’s, or they may contain an additional subscript. To probe one of these, type all of the names and punctuation exactly as shown (except capitalization may differ); if an additional subscript is shown, give a number in the specified range. An “I” designates an “input” parameter, an R means “runtime” parameter. The “owner” is the class of which this class is a subclass.</p><p>The data type and variation of each member is also shown. Note that <em>variation</em>, or how often the member changes, is shown here. (<em>Variability</em>, or how often an expression assigned to the member may change, is given for the input table members in the <a href="input-data.html#input-data">Input Data</a> Section). Members for which an “end of” variation is shown can be probed only for use in reports. A name described as “un-probe-able” is a structure or something not convertible to an integer, float, or string.</p><p>surface[].sgdist[].f[]: f[0] is winter solar coupling fraction; f[1] is summer.</p><h3 id="variation-frequencies-revisited">3.6.8 Variation Frequencies Revisited</h3><p>At risk of beating the topic to death, we’re going to review once more the frequencies with which a CSE value can change (<em>variations)</em>, with some comments on the corresponding <em>variabilities</em>.</p><table style="width:97%"><colgroup><col style="width:23%"><col style="width:73%"></colgroup><tbody><tr class="odd"><td style="text-align:left">subhourly</td><td style="text-align:left">changes in each “subhour” used in simulation. Subhours are commonly 15-minute intervals for models using znModel=CNE or 2-minute intervals for CSE znModels.</td></tr><tr class="even"><td style="text-align:left">hourly</td><td style="text-align:left">changes every simulated hour. The simulated weather and many other aspects of the simulation change hourly; it is customary to schedule setpoint changes, HVAC system operation, etc. in whole hours.</td></tr><tr class="odd"><td style="text-align:left">daily</td><td style="text-align:left">changes at each simulated midnite.</td></tr><tr class="even"><td style="text-align:left">monthly</td><td style="text-align:left">changes between simulated months.</td></tr><tr class="odd"><td style="text-align:left">monthly-hourly, or “hourly on first day of each month”</td><td style="text-align:left">changes once an hour on the first day of each month; the 24 hourly values from the first day of the month are used for the rest of the month. This variation and variability is used for data dependent on the sun’s position, to save calculation time over computing it every hour of every day.</td></tr><tr class="even"><td style="text-align:left">run start time</td><td style="text-align:left">value is derived from other inputs before simulation begins, then does not change.</td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">Members that cannot change during the simulation but which are not needed to derive other values before the simulation begins have “run start time” <em>variability</em>.</td></tr><tr class="even"><td style="text-align:left">input time</td><td style="text-align:left">value is known before CSE starts to check data and derive “run start time” values.</td></tr><tr class="odd"><td style="text-align:left"></td><td style="text-align:left">Expressions with “input time” variation may be used in many members that cannot accept any variation during the run. Many members documented in the <a href="input-data.html#input-data">Input Data</a> Section as having “constant” variability may actually accept expressions with “input time” variation; to find out, try it: set the member to an expression containing a proposed probe and see if an error message results.</td></tr><tr class="even"><td style="text-align:left"></td><td style="text-align:left">“Input time” differs from “constant” in that it includes object names (forward references are allowed, and resolved just before other data checks) and probes that are forward references to constant values.</td></tr><tr class="odd"><td style="text-align:left">constant</td><td style="text-align:left">does not vary. But a “constant” member of a class denoted as R (with no I) in the probes report produced by CSE -p is actually not available until run start time.</td></tr></tbody></table><p>Also there are end-of varieties of all of the above; these are values computed during simulation: end of each hour, end of run, etc. Such values may be reported (using a probe in a UDT report), but will produce an error message if probed in an expression for an input member value.</p>
</div>
<p class="footer">Copyright (c) 1997-2024 The CSE Authors. All rights reserved.<br>Generated: 2024-04-30T19:00:45+00:00</p>
</body>
</html>
